<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Basics of R (Part 2) | A Gentle Introduction to Data Science with R</title>
  <meta name="description" content="3 Basics of R (Part 2) | A Gentle Introduction to Data Science with R" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Basics of R (Part 2) | A Gentle Introduction to Data Science with R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="assets/youreka-logo.png" />
  
  <meta name="github-repo" content="tig3r66/youreka-textbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Basics of R (Part 2) | A Gentle Introduction to Data Science with R" />
  
  
  <meta name="twitter:image" content="assets/youreka-logo.png" />

<meta name="author" content="Eddie Guo" />
<meta name="author" content="Youreka Canada Programs Team" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="basics-of-r-part-1.html"/>
<link rel="next" href="more-data-frames.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="assets/youreka-logo.png" ></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome to Youreka Canada</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-use-this-textbook"><i class="fa fa-check"></i>How to use this textbook</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contributors"><i class="fa fa-check"></i>Contributors</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#credit"><i class="fa fa-check"></i>Credit</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
</ul></li>
<li class="part"><span><b>I Prerequisites</b></span></li>
<li class="chapter" data-level="1" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>1</b> Install R and RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="install.html"><a href="install.html#installing-r"><i class="fa fa-check"></i><b>1.1</b> Installing R</a></li>
<li class="chapter" data-level="1.2" data-path="install.html"><a href="install.html#installing-rstudio"><i class="fa fa-check"></i><b>1.2</b> Installing RStudio</a></li>
<li class="chapter" data-level="1.3" data-path="install.html"><a href="install.html#add-on-packages"><i class="fa fa-check"></i><b>1.3</b> Add-on packages</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics-of-r-part-1.html"><a href="basics-of-r-part-1.html"><i class="fa fa-check"></i><b>2</b> Basics of R (Part 1)</a><ul>
<li class="chapter" data-level="2.1" data-path="basics-of-r-part-1.html"><a href="basics-of-r-part-1.html#objects"><i class="fa fa-check"></i><b>2.1</b> Objects</a></li>
<li class="chapter" data-level="2.2" data-path="basics-of-r-part-1.html"><a href="basics-of-r-part-1.html#function-basics"><i class="fa fa-check"></i><b>2.2</b> Function Basics</a></li>
<li class="chapter" data-level="2.3" data-path="basics-of-r-part-1.html"><a href="basics-of-r-part-1.html#basic-math-operators"><i class="fa fa-check"></i><b>2.3</b> Basic math operators</a></li>
<li class="chapter" data-level="2.4" data-path="basics-of-r-part-1.html"><a href="basics-of-r-part-1.html#conditionals"><i class="fa fa-check"></i><b>2.4</b> Conditionals</a><ul>
<li class="chapter" data-level="2.4.1" data-path="basics-of-r-part-1.html"><a href="basics-of-r-part-1.html#if-statements"><i class="fa fa-check"></i><b>2.4.1</b> If statements</a></li>
<li class="chapter" data-level="2.4.2" data-path="basics-of-r-part-1.html"><a href="basics-of-r-part-1.html#multiple-ifs-vs-else-if"><i class="fa fa-check"></i><b>2.4.2</b> Multiple “if”s vs “else if”</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="basics-of-r-part-1.html"><a href="basics-of-r-part-1.html#working-directory"><i class="fa fa-check"></i><b>2.5</b> Working directory</a><ul>
<li class="chapter" data-level="2.5.1" data-path="basics-of-r-part-1.html"><a href="basics-of-r-part-1.html#other-important-things"><i class="fa fa-check"></i><b>2.5.1</b> Other important things</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="basics-of-r-part-2.html"><a href="basics-of-r-part-2.html"><i class="fa fa-check"></i><b>3</b> Basics of R (Part 2)</a><ul>
<li class="chapter" data-level="3.1" data-path="basics-of-r-part-2.html"><a href="basics-of-r-part-2.html#data-structures"><i class="fa fa-check"></i><b>3.1</b> Data structures</a><ul>
<li class="chapter" data-level="3.1.1" data-path="basics-of-r-part-2.html"><a href="basics-of-r-part-2.html#vectors"><i class="fa fa-check"></i><b>3.1.1</b> Vectors</a></li>
<li class="chapter" data-level="3.1.2" data-path="basics-of-r-part-2.html"><a href="basics-of-r-part-2.html#missing-values"><i class="fa fa-check"></i><b>3.1.2</b> Missing values</a></li>
<li class="chapter" data-level="3.1.3" data-path="basics-of-r-part-2.html"><a href="basics-of-r-part-2.html#data-frames"><i class="fa fa-check"></i><b>3.1.3</b> Data frames</a></li>
<li class="chapter" data-level="3.1.4" data-path="basics-of-r-part-2.html"><a href="basics-of-r-part-2.html#external-data"><i class="fa fa-check"></i><b>3.1.4</b> External data</a></li>
<li class="chapter" data-level="3.1.5" data-path="basics-of-r-part-2.html"><a href="basics-of-r-part-2.html#factors"><i class="fa fa-check"></i><b>3.1.5</b> Factors</a></li>
<li class="chapter" data-level="3.1.6" data-path="basics-of-r-part-2.html"><a href="basics-of-r-part-2.html#lists"><i class="fa fa-check"></i><b>3.1.6</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="basics-of-r-part-2.html"><a href="basics-of-r-part-2.html#for-loops"><i class="fa fa-check"></i><b>3.2</b> For loops</a><ul>
<li class="chapter" data-level="3.2.1" data-path="basics-of-r-part-2.html"><a href="basics-of-r-part-2.html#looping-over-multiple-files"><i class="fa fa-check"></i><b>3.2.1</b> Looping over multiple files</a></li>
<li class="chapter" data-level="3.2.2" data-path="basics-of-r-part-2.html"><a href="basics-of-r-part-2.html#nested-loops-optional"><i class="fa fa-check"></i><b>3.2.2</b> Nested loops (OPTIONAL)</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="basics-of-r-part-2.html"><a href="basics-of-r-part-2.html#functions"><i class="fa fa-check"></i><b>3.3</b> Functions</a><ul>
<li class="chapter" data-level="3.3.1" data-path="basics-of-r-part-2.html"><a href="basics-of-r-part-2.html#conditionals-within-functions"><i class="fa fa-check"></i><b>3.3.1</b> Conditionals within functions</a></li>
<li class="chapter" data-level="3.3.2" data-path="basics-of-r-part-2.html"><a href="basics-of-r-part-2.html#nested-conditionals"><i class="fa fa-check"></i><b>3.3.2</b> Nested conditionals</a></li>
<li class="chapter" data-level="3.3.3" data-path="basics-of-r-part-2.html"><a href="basics-of-r-part-2.html#default-arguments-and-unnamed-arguments"><i class="fa fa-check"></i><b>3.3.3</b> Default arguments and unnamed arguments</a></li>
<li class="chapter" data-level="3.3.4" data-path="basics-of-r-part-2.html"><a href="basics-of-r-part-2.html#combining-functions"><i class="fa fa-check"></i><b>3.3.4</b> Combining functions</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Data Wrangling</b></span></li>
<li class="chapter" data-level="4" data-path="more-data-frames.html"><a href="more-data-frames.html"><i class="fa fa-check"></i><b>4</b> More data frames</a><ul>
<li class="chapter" data-level="4.1" data-path="more-data-frames.html"><a href="more-data-frames.html#get-the-gapminder-data"><i class="fa fa-check"></i><b>4.1</b> Get the gapminder data</a></li>
<li class="chapter" data-level="4.2" data-path="more-data-frames.html"><a href="more-data-frames.html#explore-gapminder"><i class="fa fa-check"></i><b>4.2</b> Explore gapminder</a><ul>
<li class="chapter" data-level="4.2.1" data-path="more-data-frames.html"><a href="more-data-frames.html#importing-and-exporting-data"><i class="fa fa-check"></i><b>4.2.1</b> Importing and exporting data</a></li>
<li class="chapter" data-level="4.2.2" data-path="more-data-frames.html"><a href="more-data-frames.html#exploring-variables-in-a-data-frame"><i class="fa fa-check"></i><b>4.2.2</b> Exploring variables in a data Frame</a></li>
<li class="chapter" data-level="4.2.3" data-path="more-data-frames.html"><a href="more-data-frames.html#plotting-variables-with-r-optional"><i class="fa fa-check"></i><b>4.2.3</b> Plotting variables with R (OPTIONAL)</a></li>
<li class="chapter" data-level="4.2.4" data-path="more-data-frames.html"><a href="more-data-frames.html#data-frame-summary"><i class="fa fa-check"></i><b>4.2.4</b> Data frame summary</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="more-data-frames.html"><a href="more-data-frames.html#data-frames-with-dplyr"><i class="fa fa-check"></i><b>4.3</b> Data frames with dplyr</a><ul>
<li class="chapter" data-level="4.3.1" data-path="more-data-frames.html"><a href="more-data-frames.html#subsetting-the-data"><i class="fa fa-check"></i><b>4.3.1</b> Subsetting the data</a></li>
<li class="chapter" data-level="4.3.2" data-path="more-data-frames.html"><a href="more-data-frames.html#filter-rows-with-filter"><i class="fa fa-check"></i><b>4.3.2</b> Filter rows with <code>filter()</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="more-data-frames.html"><a href="more-data-frames.html#pipe-operator"><i class="fa fa-check"></i><b>4.3.3</b> Pipe operator <code>%&gt;%</code></a></li>
<li class="chapter" data-level="4.3.4" data-path="more-data-frames.html"><a href="more-data-frames.html#select-columns-with-select"><i class="fa fa-check"></i><b>4.3.4</b> Select Columns with <code>select()</code></a></li>
<li class="chapter" data-level="4.3.5" data-path="more-data-frames.html"><a href="more-data-frames.html#pure-predictable-pipeable-optional"><i class="fa fa-check"></i><b>4.3.5</b> Pure, predictable, pipeable (OPTIONAL)</a></li>
<li class="chapter" data-level="4.3.6" data-path="more-data-frames.html"><a href="more-data-frames.html#additional-resources"><i class="fa fa-check"></i><b>4.3.6</b> Additional resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="more-dplyr.html"><a href="more-dplyr.html"><i class="fa fa-check"></i><b>5</b> More dplyr</a><ul>
<li class="chapter" data-level="5.1" data-path="more-dplyr.html"><a href="more-dplyr.html#review-and-preparation"><i class="fa fa-check"></i><b>5.1</b> Review and preparation</a><ul>
<li class="chapter" data-level="5.1.1" data-path="more-data-frames.html"><a href="more-data-frames.html#load-dplyr-and-gapminder"><i class="fa fa-check"></i><b>5.1.1</b> Load <code>dplyr</code> and gapminder</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="more-dplyr.html"><a href="more-dplyr.html#use-mutate-to-add-new-variables"><i class="fa fa-check"></i><b>5.2</b> Use mutate() to add new variables</a></li>
<li class="chapter" data-level="5.3" data-path="more-dplyr.html"><a href="more-dplyr.html#use-arrange-to-row-order-data"><i class="fa fa-check"></i><b>5.3</b> Use arrange() to row-order data</a></li>
<li class="chapter" data-level="5.4" data-path="more-dplyr.html"><a href="more-dplyr.html#use-rename-to-rename-variables"><i class="fa fa-check"></i><b>5.4</b> Use rename() to rename variables</a><ul>
<li class="chapter" data-level="5.4.1" data-path="more-dplyr.html"><a href="more-dplyr.html#select-can-rename-and-reposition-variables"><i class="fa fa-check"></i><b>5.4.1</b> <code>select()</code> Can Rename and Reposition Variables</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="more-dplyr.html"><a href="more-dplyr.html#perform-tasks-on-subsets-with-group_by"><i class="fa fa-check"></i><b>5.5</b> Perform tasks on subsets with <code>group_by()</code></a><ul>
<li class="chapter" data-level="5.5.1" data-path="more-dplyr.html"><a href="more-dplyr.html#counting"><i class="fa fa-check"></i><b>5.5.1</b> Counting</a></li>
<li class="chapter" data-level="5.5.2" data-path="more-dplyr.html"><a href="more-dplyr.html#general-summarization"><i class="fa fa-check"></i><b>5.5.2</b> General summarization</a></li>
<li class="chapter" data-level="5.5.3" data-path="more-dplyr.html"><a href="more-dplyr.html#computing-with-group-wise-summaries"><i class="fa fa-check"></i><b>5.5.3</b> Computing with group-wise summaries</a></li>
<li class="chapter" data-level="5.5.4" data-path="more-dplyr.html"><a href="more-dplyr.html#window-functions-optional"><i class="fa fa-check"></i><b>5.5.4</b> Window functions (OPTIONAL)</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="more-dplyr.html"><a href="more-dplyr.html#introduction-to-visualization-optional"><i class="fa fa-check"></i><b>5.6</b> Introduction to visualization (OPTIONAL)</a></li>
<li class="chapter" data-level="5.7" data-path="more-dplyr.html"><a href="more-dplyr.html#comprehensive-practice-optional"><i class="fa fa-check"></i><b>5.7</b> Comprehensive practice (OPTIONAL)</a></li>
<li class="chapter" data-level="5.8" data-path="more-dplyr.html"><a href="more-dplyr.html#summary"><i class="fa fa-check"></i><b>5.8</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>III Statistics</b></span></li>
<li class="chapter" data-level="6" data-path="central-limit-theorem.html"><a href="central-limit-theorem.html"><i class="fa fa-check"></i><b>6</b> Central limit theorem</a><ul>
<li class="chapter" data-level="6.1" data-path="central-limit-theorem.html"><a href="central-limit-theorem.html#central-limit-theorem-for-means"><i class="fa fa-check"></i><b>6.1</b> Central limit theorem for means</a></li>
<li class="chapter" data-level="6.2" data-path="central-limit-theorem.html"><a href="central-limit-theorem.html#central-limit-theorem-for-probability-optional"><i class="fa fa-check"></i><b>6.2</b> Central limit theorem for probability (OPTIONAL)</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html"><i class="fa fa-check"></i><b>7</b> Basic statistical tests</a><ul>
<li class="chapter" data-level="7.1" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#getting-ready"><i class="fa fa-check"></i><b>7.1</b> Getting ready</a></li>
<li class="chapter" data-level="7.2" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#students-t-test"><i class="fa fa-check"></i><b>7.2</b> Student’s t-test</a></li>
<li class="chapter" data-level="7.3" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#chi-squared-test"><i class="fa fa-check"></i><b>7.3</b> Chi-squared test</a><ul>
<li class="chapter" data-level="7.3.1" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#chi2-test-for-goodness-of-fit"><i class="fa fa-check"></i><b>7.3.1</b> <span class="math inline">\(\chi^2\)</span> test for goodness-of-fit</a></li>
<li class="chapter" data-level="7.3.2" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#chi2-test-for-independence"><i class="fa fa-check"></i><b>7.3.2</b> <span class="math inline">\(\chi^2\)</span> test for independence</a></li>
<li class="chapter" data-level="7.3.3" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#chi2-test-for-homogeneity"><i class="fa fa-check"></i><b>7.3.3</b> <span class="math inline">\(\chi^2\)</span> test for homogeneity</a></li>
<li class="chapter" data-level="7.3.4" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#fishers-exact-test-optional"><i class="fa fa-check"></i><b>7.3.4</b> Fisher’s exact test (OPTIONAL)</a></li>
<li class="chapter" data-level="7.3.5" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#comparison-of-proportions-optional"><i class="fa fa-check"></i><b>7.3.5</b> Comparison of proportions (OPTIONAL)</a></li>
<li class="chapter" data-level="7.3.6" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#contingency-tables"><i class="fa fa-check"></i><b>7.3.6</b> Contingency tables</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#visualizing-data-distributions-optional"><i class="fa fa-check"></i><b>7.4</b> Visualizing data distributions (OPTIONAL)</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html"><i class="fa fa-check"></i><b>8</b> Comparing multiple means</a><ul>
<li class="chapter" data-level="8.1" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#loading-packages"><i class="fa fa-check"></i><b>8.1</b> Loading packages</a></li>
<li class="chapter" data-level="8.2" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#merging-datasets"><i class="fa fa-check"></i><b>8.2</b> Merging datasets</a></li>
<li class="chapter" data-level="8.3" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#one-way-anova"><i class="fa fa-check"></i><b>8.3</b> One-way ANOVA</a><ul>
<li class="chapter" data-level="8.3.1" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#the-iris-dataset"><i class="fa fa-check"></i><b>8.3.1</b> The iris dataset</a></li>
<li class="chapter" data-level="8.3.2" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#non-parametric-alternatives-to-anova"><i class="fa fa-check"></i><b>8.3.2</b> Non-parametric alternatives to ANOVA</a></li>
<li class="chapter" data-level="8.3.3" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#two-way-anova"><i class="fa fa-check"></i><b>8.3.3</b> Two-way ANOVA</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#linear-regression"><i class="fa fa-check"></i><b>8.4</b> Linear regression</a><ul>
<li class="chapter" data-level="8.4.1" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#basic-concepts"><i class="fa fa-check"></i><b>8.4.1</b> Basic concepts</a></li>
<li class="chapter" data-level="8.4.2" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#pearson-correlation"><i class="fa fa-check"></i><b>8.4.2</b> Pearson correlation</a></li>
<li class="chapter" data-level="8.4.3" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#spearman-correlation"><i class="fa fa-check"></i><b>8.4.3</b> Spearman correlation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>9</b> Data visualization</a><ul>
<li class="chapter" data-level="9.1" data-path="data-visualization.html"><a href="data-visualization.html#a-graphing-template"><i class="fa fa-check"></i><b>9.1</b> A graphing template</a></li>
<li class="chapter" data-level="9.2" data-path="data-visualization.html"><a href="data-visualization.html#scatter-plot"><i class="fa fa-check"></i><b>9.2</b> Scatter plot</a><ul>
<li class="chapter" data-level="9.2.1" data-path="data-visualization.html"><a href="data-visualization.html#trend-lines"><i class="fa fa-check"></i><b>9.2.1</b> Trend lines</a></li>
<li class="chapter" data-level="9.2.2" data-path="data-visualization.html"><a href="data-visualization.html#facets"><i class="fa fa-check"></i><b>9.2.2</b> Facets</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="data-visualization.html"><a href="data-visualization.html#aesthetic-mappings"><i class="fa fa-check"></i><b>9.3</b> Aesthetic mappings</a></li>
<li class="chapter" data-level="9.4" data-path="data-visualization.html"><a href="data-visualization.html#line-plot"><i class="fa fa-check"></i><b>9.4</b> Line plot</a></li>
<li class="chapter" data-level="9.5" data-path="data-visualization.html"><a href="data-visualization.html#bar-plot"><i class="fa fa-check"></i><b>9.5</b> Bar plot</a><ul>
<li class="chapter" data-level="9.5.1" data-path="data-visualization.html"><a href="data-visualization.html#basics"><i class="fa fa-check"></i><b>9.5.1</b> Basics</a></li>
<li class="chapter" data-level="9.5.2" data-path="data-visualization.html"><a href="data-visualization.html#plotting-significance-optional"><i class="fa fa-check"></i><b>9.5.2</b> Plotting significance (OPTIONAL)</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="data-visualization.html"><a href="data-visualization.html#box-plot"><i class="fa fa-check"></i><b>9.6</b> Box plot</a></li>
<li class="chapter" data-level="9.7" data-path="data-visualization.html"><a href="data-visualization.html#histogram-and-density-plot"><i class="fa fa-check"></i><b>9.7</b> Histogram and density plot</a></li>
<li class="chapter" data-level="9.8" data-path="data-visualization.html"><a href="data-visualization.html#assembly-of-multiple-figures-optional"><i class="fa fa-check"></i><b>9.8</b> Assembly of multiple figures (OPTIONAL)</a></li>
<li class="chapter" data-level="9.9" data-path="data-visualization.html"><a href="data-visualization.html#extras-optional"><i class="fa fa-check"></i><b>9.9</b> Extras (OPTIONAL)</a><ul>
<li class="chapter" data-level="9.9.1" data-path="data-visualization.html"><a href="data-visualization.html#choropleth"><i class="fa fa-check"></i><b>9.9.1</b> Choropleth</a></li>
<li class="chapter" data-level="9.9.2" data-path="data-visualization.html"><a href="data-visualization.html#animations"><i class="fa fa-check"></i><b>9.9.2</b> Animations</a></li>
</ul></li>
<li class="chapter" data-level="9.10" data-path="more-data-frames.html"><a href="more-data-frames.html#additional-resources"><i class="fa fa-check"></i><b>9.10</b> Additional resources</a></li>
</ul></li>
<li class="divider"></li>
<li><center>
  <a rel="license" href="./index.html#license">
    License: CC-BY-SA<br>
    <i class = "fab fa-creative-commons fa-2x"></i>
    <i class = "fab fa-creative-commons-by fa-2x"></i>
    <i class = "fab fa-creative-commons-sa fa-2x"></i>
  </a>
</li></center>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Gentle Introduction to Data Science with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="basics-of-r-part-2" class="section level1">
<h1><span class="header-section-number">3</span> Basics of R (Part 2)</h1>
<p>In this chapter, we will learn powerful tools invaluable to our data science workflow. For instance, we will create our very own functions, which will allow us to solve increasingly complex problems.</p>
<div id="data-structures" class="section level2">
<h2><span class="header-section-number">3.1</span> Data structures</h2>
<p>Data structures determine the operations/methods/functions are available for each object. For example, you can do +/-/*// for numbers, but these operations will not be available for strings. What operations do you imagine would be useful for strings?</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">paste</span>(<span class="st">&quot;hello&quot;</span>, <span class="st">&quot;world&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;hello,world&quot;</code></pre>
<p>Notice that single and double quotes can be used interchangeably, but double quotes are preferred. Single quotes are normally used to delimit characters within double quotes.</p>
<div id="vectors" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Vectors</h3>
<p>Vectors are a sequence of values with the <strong>same type</strong>. We can create vectors using <code>c()</code>, which stands for “combine”.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">(sites &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>))</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<p>To access the elements inside a vector, we can do something called “slicing”. To access a single item or multiple items, use the square bracket operator <code>[]</code>. In general <code>[]</code> in R means, “give me a piece of something”. For example:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">sites[<span class="dv">4</span>]</a></code></pre></div>
<pre><code>## [1] &quot;c&quot;</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">sites[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>]</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;a&quot; &quot;b&quot;</code></pre>
<p>In <code>sites[1:3]</code>, the <code>1:3</code> creates a vector from 1 to 3, which is then used to subset multiple items in a vector. Here are some additional useful functions:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">length</span>(sites)</a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">density_ha &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">2.8</span>, <span class="fl">3.2</span>, <span class="fl">1.5</span>, <span class="fl">3.8</span>)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="kw">mean</span>(density_ha)</a></code></pre></div>
<pre><code>## [1] 2.825</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">max</span>(density_ha)</a></code></pre></div>
<pre><code>## [1] 3.8</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">min</span>(density_ha)</a></code></pre></div>
<pre><code>## [1] 1.5</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">sum</span>(density_ha)</a></code></pre></div>
<pre><code>## [1] 11.3</code></pre>
<p>Now we turn our attention to multiple vectors. If our vectors are the same length, we can use math operations to combine each index element-wise.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">density_ha &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">2.8</span>, <span class="fl">3.2</span>, <span class="fl">1.5</span>, <span class="fl">3.8</span>)</a>
<a class="sourceLine" id="cb19-2" data-line-number="2">area_ha &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="fl">1.9</span>, <span class="fl">2.7</span>)</a>
<a class="sourceLine" id="cb19-3" data-line-number="3">(total_number &lt;-<span class="st"> </span>density_ha <span class="op">*</span><span class="st"> </span>area_ha)</a></code></pre></div>
<pre><code>## [1]  8.40 16.00  2.85 10.26</code></pre>
<p>Subsetting across multiple vectors is the same as that for a single vector:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="co"># recall: sites &lt;- c(&quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)</span></a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="co"># recall: area_ha &lt;- c(3, 5, 1.9, 2.7)</span></a>
<a class="sourceLine" id="cb21-3" data-line-number="3">area_ha[sites <span class="op">==</span><span class="st"> &quot;a&quot;</span>]</a></code></pre></div>
<pre><code>## [1] 3 5</code></pre>
<p>The above code snippet selects all members of <code>area_ha</code> at the indices where <code>sites == 'a'</code>. This brings us to another important concept:</p>
<ul>
<li><code>==</code> means “does it equal to?” in most programming languages.</li>
<li><code>==</code> <strong>is not</strong> the same as <code>=</code>. This is why we use <code>&lt;-</code> to assign things instead of <code>=</code>.</li>
</ul>
<p>We can also ask the question of “does it not equal to?”</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">area_ha[sites <span class="op">!=</span><span class="st"> &quot;a&quot;</span>]</a></code></pre></div>
<pre><code>## [1] 1.9 2.7</code></pre>
<p>Likewise, we can check “is it greater or less than?”</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">sites[area_ha <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>]</a></code></pre></div>
<pre><code>## [1] &quot;a&quot;</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">sites[area_ha <span class="op">&gt;=</span><span class="st"> </span><span class="dv">3</span>]</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;a&quot;</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1">sites[area_ha <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span>]</a></code></pre></div>
<pre><code>## [1] &quot;b&quot; &quot;c&quot;</code></pre>
<p>Notice that all the questions we ask have a “yes” (True) or “no” (False) answer. The operators associated with these questions are called <strong>Boolean operators</strong>.</p>
<p>Finally, we can subset a vector based on itself.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">sites[sites <span class="op">!=</span><span class="st"> &quot;a&quot;</span>]</a></code></pre></div>
<pre><code>## [1] &quot;b&quot; &quot;c&quot;</code></pre>
</div>
<div id="missing-values" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Missing values</h3>
<p>So far we’ve worked with data with no missing values. In real life, however, we often have missing values (<code>NA</code> values). Unfortunately for us, R does not get along with <code>NA</code> values.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">density_ha &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">2.8</span>, <span class="fl">3.2</span>, <span class="fl">1.5</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="kw">mean</span>(density_ha)</a></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>Please note that <code>NA</code> is different from <code>NULL</code>. Take a look at the following example.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1">na_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb35-2" data-line-number="2">null_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="ot">NULL</span>)</a>
<a class="sourceLine" id="cb35-3" data-line-number="3"><span class="co"># look at the NA vector...</span></a>
<a class="sourceLine" id="cb35-4" data-line-number="4">na_vector</a></code></pre></div>
<pre><code>## [1]  1  2  3 NA</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1"><span class="co"># ... now look at the NULL vector</span></a>
<a class="sourceLine" id="cb37-2" data-line-number="2">null_vector</a></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="co"># do the vectors work with a function such as mean()?</span></a>
<a class="sourceLine" id="cb39-2" data-line-number="2"><span class="kw">mean</span>(na_vector)</a></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1"><span class="kw">mean</span>(null_vector)</a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Why did we get <code>NA</code>? Well, it’s hard to say what a calculation including <code>NA</code> should be, so most calculations return <code>NA</code> when <code>NA</code> is in the data. One way to resolve this issue is to tell our function to remove the <code>NA</code> before executing:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="kw">mean</span>(density_ha, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] 2.5</code></pre>
</div>
<div id="data-frames" class="section level3">
<h3><span class="header-section-number">3.1.3</span> Data frames</h3>
<p>This is where things get really exciting! We will use these data structures extensively in the upcoming labs, so it’s important to pay attention here.</p>
<p>A data frame is a list of equal length vectors grouped together. More importantly, a data frame can contain both categorical and numerical values, whereas a vector can only contain variables of the same type (i.e., all numerical, all categorical, etc.).</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" data-line-number="1">surveys &lt;-<span class="st"> </span><span class="kw">data.frame</span>(sites, density_ha, area_ha)</a>
<a class="sourceLine" id="cb45-2" data-line-number="2">surveys</a></code></pre></div>
<pre><code>##   sites density_ha area_ha
## 1     a        2.8     3.0
## 2     a        3.2     5.0
## 3     b        1.5     1.9
## 4     c         NA     2.7</code></pre>
<p>Here are some useful commands to investigate a data frame:</p>
<ul>
<li><code>str()</code> returns the structure of a data frame.</li>
<li><code>length()</code> returns the length of a data frame.</li>
<li><code>nrow()</code> returns the number of rows of a data frame (same as <code>length()</code>)</li>
<li><code>ncol()</code> returns the number of columns of a data frame.</li>
</ul>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" data-line-number="1"><span class="kw">str</span>(surveys)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:	4 obs. of  3 variables:
##  $ sites     : Factor w/ 3 levels &quot;a&quot;,&quot;b&quot;,&quot;c&quot;: 1 1 2 3
##  $ density_ha: num  2.8 3.2 1.5 NA
##  $ area_ha   : num  3 5 1.9 2.7</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" data-line-number="1"><span class="kw">length</span>(surveys)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" data-line-number="1"><span class="kw">nrow</span>(surveys)</a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" data-line-number="1"><span class="kw">ncol</span>(surveys)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Subsetting data frames is extremely similar to that for vectors. This time, however, we need to consider both rows and columns. We can access a specific member like this: <code>my_data_frame[row, column]</code></p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" data-line-number="1"><span class="co"># visit one cell by row and column</span></a>
<a class="sourceLine" id="cb55-2" data-line-number="2">surveys[<span class="dv">1</span>, <span class="dv">2</span>]</a></code></pre></div>
<pre><code>## [1] 2.8</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" data-line-number="1"><span class="co"># visit a range of rows and columns</span></a>
<a class="sourceLine" id="cb57-2" data-line-number="2">surveys[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">3</span>]</a></code></pre></div>
<pre><code>##   density_ha area_ha
## 1        2.8       3
## 2        3.2       5</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" data-line-number="1"><span class="co"># every row on the third column</span></a>
<a class="sourceLine" id="cb59-2" data-line-number="2">surveys[, <span class="dv">3</span>]</a></code></pre></div>
<pre><code>## [1] 3.0 5.0 1.9 2.7</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" data-line-number="1"><span class="co"># visit column by name</span></a>
<a class="sourceLine" id="cb61-2" data-line-number="2">surveys[<span class="st">&#39;area_ha&#39;</span>]</a></code></pre></div>
<pre><code>##   area_ha
## 1     3.0
## 2     5.0
## 3     1.9
## 4     2.7</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" data-line-number="1"><span class="co"># visit column by name (preferred method)</span></a>
<a class="sourceLine" id="cb63-2" data-line-number="2">surveys<span class="op">$</span>area_ha</a></code></pre></div>
<pre><code>## [1] 3.0 5.0 1.9 2.7</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" data-line-number="1"><span class="co"># visit column by name</span></a>
<a class="sourceLine" id="cb65-2" data-line-number="2">surveys[[<span class="st">&#39;area_ha&#39;</span>]]</a></code></pre></div>
<pre><code>## [1] 3.0 5.0 1.9 2.7</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" data-line-number="1"><span class="co"># visit multiple columns (preferred method)</span></a>
<a class="sourceLine" id="cb67-2" data-line-number="2">surveys[<span class="kw">c</span>(<span class="st">&#39;area_ha&#39;</span>, <span class="st">&#39;sites&#39;</span>)]</a></code></pre></div>
<pre><code>##   area_ha sites
## 1     3.0     a
## 2     5.0     a
## 3     1.9     b
## 4     2.7     c</code></pre>
</div>
<div id="external-data" class="section level3">
<h3><span class="header-section-number">3.1.4</span> External data</h3>
<p>We can read in external data using the<code>read.csv()</code> function. The main argument is the location of the data, which is either a url or a path on your computer.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" data-line-number="1">shrub_data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;https://datacarpentry.org/semester-biology/data/shrub-dimensions-labeled.csv&#39;</span>)</a></code></pre></div>
</div>
<div id="factors" class="section level3">
<h3><span class="header-section-number">3.1.5</span> Factors</h3>
<p>Let’s use the <code>str()</code> function to get more information about our variable <code>shrub_data</code>.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1"><span class="kw">str</span>(shrub_data)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:	10 obs. of  4 variables:
##  $ shrubID: Factor w/ 10 levels &quot;a1&quot;,&quot;a2&quot;,&quot;b1&quot;,..: 1 2 3 4 5 6 7 8 9 10
##  $ length : num  2.2 2.1 2.7 3 3.1 2.5 1.9 1.1 3.5 2.9
##  $ width  : num  1.3 2.2 1.5 4.5 3.1 2.8 1.8 0.5 2 2.7
##  $ height : num  9.6 7.6 2.2 1.5 4 3 4.5 2.3 7.5 3.2</code></pre>
<p>Notice that the <code>shrubID</code> column has type <code>Factor</code>. A factor is a special data type in R for categorical data. Factors are useful for statistics, but can mess up some aspects of computation as we’ll see in future chapters.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" data-line-number="1">shrub_data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;https://datacarpentry.org/semester-biology/data/shrub-dimensions-labeled.csv&#39;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb72-2" data-line-number="2"><span class="kw">str</span>(shrub_data)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:	10 obs. of  4 variables:
##  $ shrubID: chr  &quot;a1&quot; &quot;a2&quot; &quot;b1&quot; &quot;b2&quot; ...
##  $ length : num  2.2 2.1 2.7 3 3.1 2.5 1.9 1.1 3.5 2.9
##  $ width  : num  1.3 2.2 1.5 4.5 3.1 2.8 1.8 0.5 2 2.7
##  $ height : num  9.6 7.6 2.2 1.5 4 3 4.5 2.3 7.5 3.2</code></pre>
</div>
<div id="lists" class="section level3">
<h3><span class="header-section-number">3.1.6</span> Lists</h3>
<p>Lists are a vector-like structure that can store other objects/data structures. It’s sort of like a vector that holds vectors. The main difference between a list and data frame is that lists can have elements with an unequal length.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" data-line-number="1">sites &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)</a>
<a class="sourceLine" id="cb74-2" data-line-number="2">notes &lt;-<span class="st"> &quot;It was a good day in the field today. Warm, sunny, lots of gators.&quot;</span></a>
<a class="sourceLine" id="cb74-3" data-line-number="3">helpers &lt;-<span class="st"> </span><span class="dv">4</span></a>
<a class="sourceLine" id="cb74-4" data-line-number="4">field_notes &lt;-<span class="st"> </span><span class="kw">list</span>(sites, notes, helpers)</a>
<a class="sourceLine" id="cb74-5" data-line-number="5">field_notes[<span class="dv">1</span>]</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" data-line-number="1">field_notes[[<span class="dv">1</span>]]</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<p>We can also give the values names and access them using the <code>$</code> symbol (preferred) or via <code>[&quot;variable_name&quot;]</code> with subsetting.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" data-line-number="1">field_notes &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">my_sites =</span> sites, <span class="dt">notes =</span> notes, <span class="dt">my_helpers =</span> helpers)</a>
<a class="sourceLine" id="cb78-2" data-line-number="2">field_notes<span class="op">$</span>my_sites</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" data-line-number="1">field_notes[[<span class="st">&quot;my_sites&quot;</span>]]</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
</div>
</div>
<div id="for-loops" class="section level2">
<h2><span class="header-section-number">3.2</span> For loops</h2>
<p>Loops are fundamental a programming concept as they get a lot of repetitive stuff done in very few lines of code. You can think of loops as something that performs the same operation on a lot of things. Here’s what the syntax of a loop looks like:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" data-line-number="1"><span class="cf">for</span> (item <span class="cf">in</span> list_of_items) {</a>
<a class="sourceLine" id="cb82-2" data-line-number="2">  <span class="kw">do_something</span>(item)</a>
<a class="sourceLine" id="cb82-3" data-line-number="3">}</a></code></pre></div>
<p>And here is an example:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" data-line-number="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) {</a>
<a class="sourceLine" id="cb83-2" data-line-number="2">  <span class="kw">print</span>(i)</a>
<a class="sourceLine" id="cb83-3" data-line-number="3">}</a></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5</code></pre>
<p>The above snippet is equivalent to this:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" data-line-number="1"><span class="kw">print</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb85-2" data-line-number="2"><span class="kw">print</span>(<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb85-3" data-line-number="3"><span class="kw">print</span>(<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb85-4" data-line-number="4"><span class="kw">print</span>(<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb85-5" data-line-number="5"><span class="kw">print</span>(<span class="dv">5</span>)</a></code></pre></div>
<p>You can also have multiple lines of code in the body of a loop.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb86-1" data-line-number="1"><span class="cf">for</span> (number <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) {</a>
<a class="sourceLine" id="cb86-2" data-line-number="2">   i &lt;-<span class="st"> </span>i<span class="op">*</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb86-3" data-line-number="3">   <span class="kw">print</span>(i)</a>
<a class="sourceLine" id="cb86-4" data-line-number="4">}</a></code></pre></div>
<pre><code>## [1] 10
## [1] 20
## [1] 40
## [1] 80
## [1] 160</code></pre>
<p>In the previous examples, we used the dummy variables <code>i</code> and <code>number</code> to take on some range of values. Notice that <code>i</code> can be called anything you want.</p>
<p>To contexualize this, let’s look at an example that calculates mass using the following fomula: <span class="math inline">\(\text{mass} = \text{density} \times \text{volume}\)</span></p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" data-line-number="1">density &lt;-<span class="st"> </span><span class="fl">2.65</span></a>
<a class="sourceLine" id="cb88-2" data-line-number="2">volumes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">1.6</span>, <span class="dv">3</span>, <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb88-3" data-line-number="3"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(volumes)) {</a>
<a class="sourceLine" id="cb88-4" data-line-number="4">   mass &lt;-<span class="st"> </span>density <span class="op">*</span><span class="st"> </span>volumes[i]</a>
<a class="sourceLine" id="cb88-5" data-line-number="5">   <span class="kw">print</span>(mass)</a>
<a class="sourceLine" id="cb88-6" data-line-number="6">}</a></code></pre></div>
<pre><code>## [1] 4.24
## [1] 7.95
## [1] 21.2</code></pre>
<p>Looping with an index allows us to store results calculated in the loop. In the following snippet, we are going to create an empty vector with sthe length of our <code>volumes</code> vector.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" data-line-number="1">( masses &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">mode =</span> <span class="st">&quot;numeric&quot;</span>, <span class="dt">length =</span> <span class="kw">length</span>(volumes)) )</a></code></pre></div>
<pre><code>## [1] 0 0 0</code></pre>
<p>Note that <code>&quot;numeric&quot;</code> is the type of data we are going to store and <code>length(volumes)</code> is the desired length of our vector.</p>
<p>Now, add each result in the correct position—for each <strong>iteration</strong> through the loop, save the output in the empty vector (<code>masses</code>) at the i’th position.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" data-line-number="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(volumes)){</a>
<a class="sourceLine" id="cb92-2" data-line-number="2">   mass &lt;-<span class="st"> </span><span class="fl">2.65</span> <span class="op">*</span><span class="st"> </span>volumes[i]</a>
<a class="sourceLine" id="cb92-3" data-line-number="3">   masses[i] &lt;-<span class="st"> </span>mass</a>
<a class="sourceLine" id="cb92-4" data-line-number="4">}</a>
<a class="sourceLine" id="cb92-5" data-line-number="5">masses</a></code></pre></div>
<pre><code>## [1]  4.24  7.95 21.20</code></pre>
<div id="looping-over-multiple-files" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Looping over multiple files</h3>
<p>We now turn our attention to a (slightly more) useful example: how do we analyze multiple files with similar contents?</p>
<p>In this hypothetical example, we have 5 datasets with satellite coodinates at specific points orbiting the Earth. Suppose the files are similarly named:</p>
<ul>
<li>locations-2016-01-01.txt</li>
<li>locations-2016-01-02.txt</li>
<li>locations-2016-01-03.txt</li>
<li>locations-2016-01-04.txt</li>
<li>locations-2016-01-05.txt</li>
</ul>
<p>First, we will retrieve the names of each files.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" data-line-number="1">data_files &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="dt">path =</span> <span class="st">&quot;data/02_intro-to-r/&quot;</span>, <span class="dt">pattern =</span> <span class="st">&quot;locations-.*.txt&quot;</span>, </a>
<a class="sourceLine" id="cb94-2" data-line-number="2">                        <span class="dt">full.names =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>Note that the asterisk in <code>&quot;*.txt*&quot;</code> refers to “any name in this directory” whereas the <code>&quot;.txt&quot;</code> part ensures we are only selecting .txt files.</p>
<p>Next, we will determine the number of observations in each file.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb95-1" data-line-number="1">results &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">mode =</span> <span class="st">&quot;integer&quot;</span>, <span class="dt">length =</span> <span class="kw">length</span>(data_files))</a>
<a class="sourceLine" id="cb95-2" data-line-number="2"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(data_files)) {</a>
<a class="sourceLine" id="cb95-3" data-line-number="3">  data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(data_files[i])</a>
<a class="sourceLine" id="cb95-4" data-line-number="4">  count &lt;-<span class="st"> </span><span class="kw">nrow</span>(data)</a>
<a class="sourceLine" id="cb95-5" data-line-number="5">  results[i] &lt;-<span class="st"> </span>count</a>
<a class="sourceLine" id="cb95-6" data-line-number="6">}</a></code></pre></div>
<p>Now, let’s store the output in a data frame and associate the file name with the count</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb96-1" data-line-number="1">results &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">file_name =</span> <span class="kw">character</span>(<span class="kw">length</span>(data_files)),</a>
<a class="sourceLine" id="cb96-2" data-line-number="2">                      <span class="dt">count =</span> <span class="kw">integer</span>(<span class="kw">length</span>(data_files)),</a>
<a class="sourceLine" id="cb96-3" data-line-number="3">                      <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb96-4" data-line-number="4"></a>
<a class="sourceLine" id="cb96-5" data-line-number="5"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(data_files)){</a>
<a class="sourceLine" id="cb96-6" data-line-number="6">  data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(data_files[i])</a>
<a class="sourceLine" id="cb96-7" data-line-number="7">  count &lt;-<span class="st"> </span><span class="kw">nrow</span>(data)</a>
<a class="sourceLine" id="cb96-8" data-line-number="8">  results<span class="op">$</span>file_name[i] &lt;-<span class="st"> </span>data_files[i]</a>
<a class="sourceLine" id="cb96-9" data-line-number="9">  results<span class="op">$</span>count[i] &lt;-<span class="st"> </span>count</a>
<a class="sourceLine" id="cb96-10" data-line-number="10">}</a>
<a class="sourceLine" id="cb96-11" data-line-number="11">results</a></code></pre></div>
<pre><code>##                                      file_name count
## 1 data/02_intro-to-r//locations-2016-01-01.txt     4
## 2 data/02_intro-to-r//locations-2016-01-02.txt     8
## 3 data/02_intro-to-r//locations-2016-01-03.txt    10
## 4 data/02_intro-to-r//locations-2016-01-04.txt    10
## 5 data/02_intro-to-r//locations-2016-01-05.txt    12</code></pre>
</div>
<div id="nested-loops-optional" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Nested loops (OPTIONAL)</h3>
<p>Sometimes, we need to loop over more than a single range of numbers. For example, what if we want to select all pixels on a 3x4 rectangular screen? Here, we need to cover both the “x” and “y” pixel coodinates:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb98-1" data-line-number="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>) {</a>
<a class="sourceLine" id="cb98-2" data-line-number="2">  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {</a>
<a class="sourceLine" id="cb98-3" data-line-number="3">    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;i = &quot;</span> , i, <span class="st">&quot;; j = &quot;</span>, j))</a>
<a class="sourceLine" id="cb98-4" data-line-number="4">  }</a>
<a class="sourceLine" id="cb98-5" data-line-number="5">}</a></code></pre></div>
<pre><code>## [1] &quot;i =  1 ; j =  1&quot;
## [1] &quot;i =  1 ; j =  2&quot;
## [1] &quot;i =  1 ; j =  3&quot;
## [1] &quot;i =  1 ; j =  4&quot;
## [1] &quot;i =  2 ; j =  1&quot;
## [1] &quot;i =  2 ; j =  2&quot;
## [1] &quot;i =  2 ; j =  3&quot;
## [1] &quot;i =  2 ; j =  4&quot;
## [1] &quot;i =  3 ; j =  1&quot;
## [1] &quot;i =  3 ; j =  2&quot;
## [1] &quot;i =  3 ; j =  3&quot;
## [1] &quot;i =  3 ; j =  4&quot;</code></pre>
<p>Here’s a slightly more complex example that finds all prime numbers from 1 to 25:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" data-line-number="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span><span class="dv">25</span>) {</a>
<a class="sourceLine" id="cb100-2" data-line-number="2">  <span class="co"># assume each number is prime by default</span></a>
<a class="sourceLine" id="cb100-3" data-line-number="3">  prime &lt;-<span class="st"> </span><span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb100-4" data-line-number="4">  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span>(i<span class="dv">-1</span>)) {</a>
<a class="sourceLine" id="cb100-5" data-line-number="5">    <span class="co"># if i is divisible by any number from 2 to i-1, it is not a prime</span></a>
<a class="sourceLine" id="cb100-6" data-line-number="6">    <span class="cf">if</span> (i<span class="op">%%</span>j <span class="op">==</span><span class="st"> </span><span class="dv">0</span>) {</a>
<a class="sourceLine" id="cb100-7" data-line-number="7">      prime &lt;-<span class="st"> </span><span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb100-8" data-line-number="8">    }</a>
<a class="sourceLine" id="cb100-9" data-line-number="9">  }</a>
<a class="sourceLine" id="cb100-10" data-line-number="10">  <span class="cf">if</span> (prime <span class="op">==</span><span class="st"> </span><span class="ot">TRUE</span> <span class="op">|</span><span class="st"> </span>i <span class="op">==</span><span class="st"> </span><span class="dv">2</span>) {</a>
<a class="sourceLine" id="cb100-11" data-line-number="11">    <span class="kw">print</span>(<span class="kw">paste</span>(i, <span class="st">&quot;is prime&quot;</span>))</a>
<a class="sourceLine" id="cb100-12" data-line-number="12">  }</a>
<a class="sourceLine" id="cb100-13" data-line-number="13">}</a></code></pre></div>
<pre><code>## [1] &quot;2 is prime&quot;
## [1] &quot;3 is prime&quot;
## [1] &quot;5 is prime&quot;
## [1] &quot;7 is prime&quot;
## [1] &quot;11 is prime&quot;
## [1] &quot;13 is prime&quot;
## [1] &quot;17 is prime&quot;
## [1] &quot;19 is prime&quot;
## [1] &quot;23 is prime&quot;</code></pre>
</div>
</div>
<div id="functions" class="section level2">
<h2><span class="header-section-number">3.3</span> Functions</h2>
<p>Sometimes, we wish to define our own functions. For example, we usually create functions if we need to do similar tasks more than once. Below is a basic format to write a function.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb102-1" data-line-number="1">function_name &lt;-<span class="st"> </span><span class="cf">function</span>(arguments) {</a>
<a class="sourceLine" id="cb102-2" data-line-number="2">  output_value &lt;-<span class="st"> </span><span class="kw">do_something</span>(inputs)</a>
<a class="sourceLine" id="cb102-3" data-line-number="3">  <span class="kw">return</span>(output_value)</a>
<a class="sourceLine" id="cb102-4" data-line-number="4">}</a></code></pre></div>
<p>The braces (<code>{</code> and <code>}</code>) indicate that the lines of code are a group that gets run together. For example:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb103-1" data-line-number="1">{a =<span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb103-2" data-line-number="2">b =<span class="st"> </span><span class="dv">3</span></a>
<a class="sourceLine" id="cb103-3" data-line-number="3">a <span class="op">+</span><span class="st"> </span>b}</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<ul>
<li>Pressing run anywhere in this group runs all the lines in that group.</li>
<li>A function runs all of the lines of code in the braces using the arguments provided then returns the output</li>
</ul>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb105-1" data-line-number="1">calc_shrub_vol &lt;-<span class="st"> </span><span class="cf">function</span>(length, width, height) {</a>
<a class="sourceLine" id="cb105-2" data-line-number="2">  area &lt;-<span class="st"> </span>length <span class="op">*</span><span class="st"> </span>width</a>
<a class="sourceLine" id="cb105-3" data-line-number="3">  volume &lt;-<span class="st"> </span>area <span class="op">*</span><span class="st"> </span>height</a>
<a class="sourceLine" id="cb105-4" data-line-number="4">  <span class="kw">return</span>(volume)</a>
<a class="sourceLine" id="cb105-5" data-line-number="5">}</a></code></pre></div>
<p><em>Creating a function does not run it.</em> A function is meant to be used: call the function with some arguments.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" data-line-number="1"><span class="kw">calc_shrub_vol</span>(<span class="fl">0.8</span>, <span class="fl">1.6</span>, <span class="fl">2.0</span>)</a></code></pre></div>
<pre><code>## [1] 2.56</code></pre>
<ul>
<li>Store the output to use it later in the program</li>
</ul>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" data-line-number="1">shrub_vol &lt;-<span class="st"> </span><span class="kw">calc_shrub_vol</span>(<span class="fl">0.8</span>, <span class="fl">1.6</span>, <span class="fl">2.0</span>)</a></code></pre></div>
<p>Treat functions like a black box
* <em>Draw a box on board showing inputs-&gt;function-&gt;outputs</em>
* The only things the function knows about are the inputs we pass it
* The only thing the program knows about the function is the output it
produces</p>
<p>Let’s walk through <code>calc_shrub_vol()</code>s execution:
1. Call function
2. Assign 0.8 to length, 1.6 to width, and 2.0 to height inside function
3. Calculate the area and assign it to <code>area</code>
4. Calculate volume and assign it to <code>volume</code>
5. Send <code>volume</code> back as output
6. Store it in <code>shrub_vol</code></p>
<p>Once again, treat functions like a black box.
* You can’t access a variable that was created in a function. You <strong>must</strong> save the output of a function (to a variable) to use it later.
* <code>&gt; volume</code>
* <code>Error: object 'width' not found</code>
* Or an argument by name
* <code>&gt; width</code>
* <code>Error: object 'width' not found</code></p>
<div id="conditionals-within-functions" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Conditionals within functions</h3>
<p>Recall that we used a conditional to estimate mass differently for different types of vegetation. Since this is the kind of code we are going to want to reuse, so let’s move it into a function.</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb109-1" data-line-number="1">est_mass &lt;-<span class="st"> </span><span class="cf">function</span>(volume, veg_type) {</a>
<a class="sourceLine" id="cb109-2" data-line-number="2">  <span class="cf">if</span> (veg_type <span class="op">==</span><span class="st"> &quot;tree&quot;</span>) {</a>
<a class="sourceLine" id="cb109-3" data-line-number="3">    mass &lt;-<span class="st"> </span><span class="fl">2.65</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">0.9</span></a>
<a class="sourceLine" id="cb109-4" data-line-number="4">  } <span class="cf">else</span> <span class="cf">if</span> (veg_type <span class="op">==</span><span class="st"> &quot;grass&quot;</span>) {</a>
<a class="sourceLine" id="cb109-5" data-line-number="5">    mass &lt;-<span class="st"> </span><span class="fl">0.65</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">1.2</span></a>
<a class="sourceLine" id="cb109-6" data-line-number="6">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb109-7" data-line-number="7">    mass &lt;-<span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb109-8" data-line-number="8">  }</a>
<a class="sourceLine" id="cb109-9" data-line-number="9">  <span class="kw">return</span>(mass)</a>
<a class="sourceLine" id="cb109-10" data-line-number="10">}</a></code></pre></div>
<p>We can then run this function with different vegetation types and get different estimates for mass</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb110-1" data-line-number="1"><span class="kw">est_mass</span>(<span class="fl">1.6</span>, <span class="st">&quot;tree&quot;</span>)</a></code></pre></div>
<pre><code>## [1] 4.045329</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" data-line-number="1"><span class="kw">est_mass</span>(<span class="fl">1.6</span>, <span class="st">&quot;grass&quot;</span>)</a></code></pre></div>
<pre><code>## [1] 1.142503</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb114-1" data-line-number="1"><span class="kw">est_mass</span>(<span class="fl">1.6</span>, <span class="st">&quot;shrub&quot;</span>)</a></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>Let’s walk through how this code executes:
1. When we call the function the first thing that happens is that 1.6 gets assigned to <code>volume</code> and <code>&quot;shrub&quot;</code> gets assigned to <code>veg_type</code>
2. The code then checks to see if <code>veg_type</code> is equal to <code>&quot;tree&quot;</code>
3. It isn’t so the code then checks to see if <code>veg_type</code> is equal to <code>&quot;grass&quot;</code>
4. It is so the code then hits the <code>else</code> statement and executes the code in the <code>else</code> block
5. It assigns <code>NA</code> to mass
6. It then finishes the if/else if/else statement and returns the value for <code>mass</code>, which is <code>NA</code> to the global environment</p>
</div>
<div id="nested-conditionals" class="section level3">
<h3><span class="header-section-number">3.3.2</span> Nested conditionals</h3>
<ul>
<li>Sometimes decisions are more complicated</li>
<li>For example we might have different equations for some vegetation types based on the age of the plant</li>
<li>Can “nest” conditionals inside of one another</li>
</ul>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" data-line-number="1">est_mass &lt;-<span class="st"> </span><span class="cf">function</span>(volume, veg_type, age){ </a>
<a class="sourceLine" id="cb116-2" data-line-number="2">  <span class="cf">if</span> (veg_type <span class="op">==</span><span class="st"> &quot;tree&quot;</span>) {</a>
<a class="sourceLine" id="cb116-3" data-line-number="3">    <span class="cf">if</span> (age <span class="op">&lt;</span><span class="st"> </span><span class="dv">5</span>) {</a>
<a class="sourceLine" id="cb116-4" data-line-number="4">      mass &lt;-<span class="st"> </span><span class="fl">1.6</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">0.8</span></a>
<a class="sourceLine" id="cb116-5" data-line-number="5">    } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb116-6" data-line-number="6">      mass &lt;-<span class="st"> </span><span class="fl">2.65</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">0.9</span></a>
<a class="sourceLine" id="cb116-7" data-line-number="7">  }</a>
<a class="sourceLine" id="cb116-8" data-line-number="8">  } <span class="cf">else</span> <span class="cf">if</span> (veg_type <span class="op">==</span><span class="st"> &quot;grass&quot;</span> <span class="op">|</span><span class="st"> </span>veg_type <span class="op">==</span><span class="st"> &quot;shrub&quot;</span>) {</a>
<a class="sourceLine" id="cb116-9" data-line-number="9">    mass &lt;-<span class="st"> </span><span class="fl">0.65</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">1.2</span></a>
<a class="sourceLine" id="cb116-10" data-line-number="10">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb116-11" data-line-number="11">    mass &lt;-<span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb116-12" data-line-number="12">  }</a>
<a class="sourceLine" id="cb116-13" data-line-number="13">  <span class="kw">return</span>(mass)</a>
<a class="sourceLine" id="cb116-14" data-line-number="14">}</a>
<a class="sourceLine" id="cb116-15" data-line-number="15"></a>
<a class="sourceLine" id="cb116-16" data-line-number="16"><span class="kw">est_mass</span>(<span class="fl">1.6</span>, <span class="st">&quot;tree&quot;</span>, <span class="dt">age =</span> <span class="dv">2</span>)</a></code></pre></div>
<pre><code>## [1] 2.330322</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" data-line-number="1"><span class="kw">est_mass</span>(<span class="fl">1.6</span>, <span class="st">&quot;shrub&quot;</span>, <span class="dt">age =</span> <span class="dv">5</span>)</a></code></pre></div>
<pre><code>## [1] 1.142503</code></pre>
<p>Here’s how the function executes:
1. First checks if the vegetation type is “tree”
2. If it is checks to see if it is &lt; 5 years old
3. If so does one calculation, if not does another.</p>
<p>Note that nesting can be difficult to read so try to minimize it when possible.</p>
</div>
<div id="default-arguments-and-unnamed-arguments" class="section level3">
<h3><span class="header-section-number">3.3.3</span> Default arguments and unnamed arguments</h3>
<ul>
<li>Defaults can be set for common inputs.</li>
<li>For example, many of our shrubs are the same height so for those shrubs we only measure the <code>length</code> and <code>width</code>.</li>
<li>So we want a default value for the <code>height</code> for cases where we don’t measure it</li>
</ul>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" data-line-number="1">calc_shrub_vol &lt;-<span class="st"> </span><span class="cf">function</span>(length, width, <span class="dt">height =</span> <span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb120-2" data-line-number="2">  area &lt;-<span class="st"> </span>length <span class="op">*</span><span class="st"> </span>width</a>
<a class="sourceLine" id="cb120-3" data-line-number="3">  volume &lt;-<span class="st"> </span>area <span class="op">*</span><span class="st"> </span>height</a>
<a class="sourceLine" id="cb120-4" data-line-number="4">  <span class="kw">return</span>(volume)</a>
<a class="sourceLine" id="cb120-5" data-line-number="5">}</a>
<a class="sourceLine" id="cb120-6" data-line-number="6"></a>
<a class="sourceLine" id="cb120-7" data-line-number="7"><span class="kw">calc_shrub_vol</span>(<span class="fl">0.8</span>, <span class="fl">1.6</span>)  <span class="co"># default argument for height</span></a></code></pre></div>
<pre><code>## [1] 1.28</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb122-1" data-line-number="1"><span class="kw">calc_shrub_vol</span>(<span class="fl">0.8</span>, <span class="fl">1.6</span>, <span class="fl">2.0</span>)  <span class="co"># default argument is overridden by 2,0</span></a></code></pre></div>
<pre><code>## [1] 2.56</code></pre>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb124-1" data-line-number="1"><span class="kw">calc_shrub_vol</span>(<span class="dt">length =</span> <span class="fl">0.8</span>, <span class="dt">width =</span> <span class="fl">1.6</span>, <span class="dt">height =</span> <span class="fl">2.0</span>)</a></code></pre></div>
<pre><code>## [1] 2.56</code></pre>
<p>As you could tell from the last two examples, you can specify the arguments (parameters) with or without their names.</p>
<ul>
<li>You can always use names to assign a parameter to an argument.</li>
<li>If not, using names then order is determined by parameter order. For example,
<ul>
<li>First value is <code>length</code>, second value is <code>width</code>, third value is <code>height</code>.</li>
</ul></li>
<li>In many cases there are <em>a lot</em> of optional arguments. In this case, we can specify an argument by name to avoid confusion.</li>
<li>Oftentimes, only the optional arguments are specified (i.e., those without a default value).</li>
<li>In our case, we would write:</li>
</ul>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" data-line-number="1"><span class="kw">calc_shrub_vol</span>(<span class="fl">0.8</span>, <span class="fl">1.6</span>, <span class="dt">height =</span> <span class="fl">2.0</span>)</a></code></pre></div>
<pre><code>## [1] 2.56</code></pre>
</div>
<div id="combining-functions" class="section level3">
<h3><span class="header-section-number">3.3.4</span> Combining functions</h3>
<p>Here are some guidelines for creating functions:
* Each function should be single conceptual chunk of code
* Functions can be combined to do larger tasks</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" data-line-number="1">est_shrub_mass &lt;-<span class="st"> </span><span class="cf">function</span>(volume) {</a>
<a class="sourceLine" id="cb128-2" data-line-number="2">  mass &lt;-<span class="st"> </span><span class="fl">2.65</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">0.9</span></a>
<a class="sourceLine" id="cb128-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb128-4" data-line-number="4"></a>
<a class="sourceLine" id="cb128-5" data-line-number="5">shrub_volume &lt;-<span class="st"> </span><span class="kw">calc_shrub_vol</span>(<span class="fl">0.8</span>, <span class="fl">1.6</span>, <span class="fl">2.0</span>)</a>
<a class="sourceLine" id="cb128-6" data-line-number="6">shrub_mass &lt;-<span class="st"> </span><span class="kw">est_shrub_mass</span>(shrub_volume)</a></code></pre></div>
<p>We can nest functions. Below, the inner function executes before the outer function executes.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb129-1" data-line-number="1">shrub_mass &lt;-<span class="st"> </span><span class="kw">est_shrub_mass</span>(<span class="kw">calc_shrub_vol</span>(<span class="fl">0.8</span>, <span class="fl">1.6</span>, <span class="fl">2.0</span>))</a></code></pre></div>
<p>We careful with this because it can make code difficult to read. As a general rule of thumb, don’t nest more than two functions.</p>
<p>We can also call functions from inside other functions. This allows us to organize function calls into logical groups.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb130-1" data-line-number="1">est_shrub_mass_dim &lt;-<span class="st"> </span><span class="cf">function</span>(length, width, height) {</a>
<a class="sourceLine" id="cb130-2" data-line-number="2">  volume =<span class="st"> </span><span class="kw">calc_shrub_vol</span>(length, width, height)</a>
<a class="sourceLine" id="cb130-3" data-line-number="3">  mass &lt;-<span class="st"> </span><span class="kw">est_shrub_mass</span>(volume)</a>
<a class="sourceLine" id="cb130-4" data-line-number="4">  <span class="kw">return</span>(mass)</a>
<a class="sourceLine" id="cb130-5" data-line-number="5">}</a>
<a class="sourceLine" id="cb130-6" data-line-number="6"></a>
<a class="sourceLine" id="cb130-7" data-line-number="7"><span class="kw">est_shrub_mass_dim</span>(<span class="fl">0.8</span>, <span class="fl">1.6</span>, <span class="fl">2.0</span>)</a></code></pre></div>
<pre><code>## [1] 6.175354</code></pre>

</div>
</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="basics-of-r-part-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="more-data-frames.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>

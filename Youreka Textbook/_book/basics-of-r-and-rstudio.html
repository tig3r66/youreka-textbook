<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Basics of R and RStudio | A Gentle Introduction to Data Science with R</title>
  <meta name="description" content="Description here" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Basics of R and RStudio | A Gentle Introduction to Data Science with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Description here" />
  <meta name="github-repo" content="tig3r66/youreka-textbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Basics of R and RStudio | A Gentle Introduction to Data Science with R" />
  
  <meta name="twitter:description" content="Description here" />
  

<meta name="author" content="Youreka Canada" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="install.html"/>
<link rel="next" href="data-frames.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome to Youreka Canada</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-use-this-textbook"><i class="fa fa-check"></i>How to use this textbook</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contributors"><i class="fa fa-check"></i>Contributors</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#credit"><i class="fa fa-check"></i>Credit</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
</ul></li>
<li class="part"><span><b>I Prerequisites</b></span></li>
<li class="chapter" data-level="1" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>1</b> Install R and RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="install.html"><a href="install.html#r-and-rstudio"><i class="fa fa-check"></i><b>1.1</b> R and RStudio</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html"><i class="fa fa-check"></i><b>2</b> Basics of R and RStudio</a><ul>
<li class="chapter" data-level="2.1" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#objects"><i class="fa fa-check"></i><b>2.1</b> Objects</a></li>
<li class="chapter" data-level="2.2" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#functions"><i class="fa fa-check"></i><b>2.2</b> Functions</a></li>
<li class="chapter" data-level="2.3" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#working-directory"><i class="fa fa-check"></i><b>2.3</b> Working directory</a><ul>
<li class="chapter" data-level="2.3.1" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#other-important-things"><i class="fa fa-check"></i><b>2.3.1</b> Other important things</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#basic-math-in-r"><i class="fa fa-check"></i><b>2.4</b> Basic math in R</a></li>
<li class="chapter" data-level="2.5" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#data-structures-in-r"><i class="fa fa-check"></i><b>2.5</b> Data structures in R</a><ul>
<li class="chapter" data-level="2.5.1" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#vectors"><i class="fa fa-check"></i><b>2.5.1</b> Vectors</a></li>
<li class="chapter" data-level="2.5.2" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#missing-values-na"><i class="fa fa-check"></i><b>2.5.2</b> Missing values (NA)</a></li>
<li class="chapter" data-level="2.5.3" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#working-with-multiple-vectors"><i class="fa fa-check"></i><b>2.5.3</b> Working with multiple vectors</a></li>
<li class="chapter" data-level="2.5.4" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#data-frames"><i class="fa fa-check"></i><b>2.5.4</b> Data frames</a></li>
<li class="chapter" data-level="2.5.5" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#reading-in-external-data"><i class="fa fa-check"></i><b>2.5.5</b> Reading in external data</a></li>
<li class="chapter" data-level="2.5.6" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#factors"><i class="fa fa-check"></i><b>2.5.6</b> Factors</a></li>
<li class="chapter" data-level="2.5.7" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#lists"><i class="fa fa-check"></i><b>2.5.7</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#conditionals"><i class="fa fa-check"></i><b>2.6</b> Conditionals</a><ul>
<li class="chapter" data-level="2.6.1" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#conditional-basics"><i class="fa fa-check"></i><b>2.6.1</b> Conditional basics</a></li>
<li class="chapter" data-level="2.6.2" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#if-statements"><i class="fa fa-check"></i><b>2.6.2</b> <code>if</code> statements</a></li>
<li class="chapter" data-level="2.6.3" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#multiple-ifs-vs-else-if"><i class="fa fa-check"></i><b>2.6.3</b> Multiple <code>if</code>s vs <code>else if</code></a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#for-loops"><i class="fa fa-check"></i><b>2.7</b> <code>for</code> loops</a><ul>
<li class="chapter" data-level="2.7.1" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#basic-for-loop"><i class="fa fa-check"></i><b>2.7.1</b> Basic <code>for</code> loop</a></li>
<li class="chapter" data-level="2.7.2" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#looping-with-an-index-storing-results"><i class="fa fa-check"></i><b>2.7.2</b> Looping with an index &amp; storing results</a></li>
<li class="chapter" data-level="2.7.3" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#looping-over-files-optional"><i class="fa fa-check"></i><b>2.7.3</b> Looping over files (OPTIONAL)</a></li>
<li class="chapter" data-level="2.7.4" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#subsetting-data-optional"><i class="fa fa-check"></i><b>2.7.4</b> Subsetting data (OPTIONAL)</a></li>
<li class="chapter" data-level="2.7.5" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#nested-loops-optional"><i class="fa fa-check"></i><b>2.7.5</b> Nested loops (OPTIONAL)</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#functions-1"><i class="fa fa-check"></i><b>2.8</b> Functions</a><ul>
<li class="chapter" data-level="2.8.1" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#function-basics"><i class="fa fa-check"></i><b>2.8.1</b> Function basics</a></li>
<li class="chapter" data-level="2.8.2" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#conditionals-within-functions"><i class="fa fa-check"></i><b>2.8.2</b> Conditionals within functions</a></li>
<li class="chapter" data-level="2.8.3" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#nested-conditionals-optional"><i class="fa fa-check"></i><b>2.8.3</b> Nested conditionals (OPTIONAL)</a></li>
<li class="chapter" data-level="2.8.4" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#default-arguments-and-unnamed-arguments"><i class="fa fa-check"></i><b>2.8.4</b> Default arguments and unnamed arguments</a></li>
<li class="chapter" data-level="2.8.5" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#combining-functions-optional"><i class="fa fa-check"></i><b>2.8.5</b> Combining functions (OPTIONAL)</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Data Wrangling</b></span></li>
<li class="chapter" data-level="3" data-path="basics-of-r-and-rstudio.html"><a href="basics-of-r-and-rstudio.html#data-frames"><i class="fa fa-check"></i><b>3</b> Data frames</a><ul>
<li class="chapter" data-level="3.1" data-path="data-frames.html"><a href="data-frames.html"><i class="fa fa-check"></i><b>3.1</b> Get the gapminder data</a></li>
<li class="chapter" data-level="3.2" data-path="data-frames.html"><a href="data-frames.html#explore-gapminder"><i class="fa fa-check"></i><b>3.2</b> Explore gapminder</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-frames.html"><a href="data-frames.html#importing-and-exporting-data"><i class="fa fa-check"></i><b>3.2.1</b> Importing and exporting data</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-frames.html"><a href="data-frames.html#exploring-variables-in-a-data-frame"><i class="fa fa-check"></i><b>3.2.2</b> Exploring variables in a data Frame</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-frames.html"><a href="data-frames.html#plotting-variables-with-r-optional"><i class="fa fa-check"></i><b>3.2.3</b> Plotting variables with R (OPTIONAL)</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-frames.html"><a href="data-frames.html#data-frame-summary"><i class="fa fa-check"></i><b>3.2.4</b> Data frame summary</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-frames.html"><a href="data-frames.html#data-frames-with-dplyr"><i class="fa fa-check"></i><b>3.3</b> Data frames with dplyr</a><ul>
<li class="chapter" data-level="3.3.1" data-path="data-frames.html"><a href="data-frames.html#subsetting-the-data"><i class="fa fa-check"></i><b>3.3.1</b> Subsetting the data</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-frames.html"><a href="data-frames.html#filter-rows-with-filter"><i class="fa fa-check"></i><b>3.3.2</b> Filter rows with <code>filter()</code></a></li>
<li class="chapter" data-level="3.3.3" data-path="data-frames.html"><a href="data-frames.html#pipe-operator"><i class="fa fa-check"></i><b>3.3.3</b> Pipe operator <code>%&gt;%</code></a></li>
<li class="chapter" data-level="3.3.4" data-path="data-frames.html"><a href="data-frames.html#select-columns-with-select"><i class="fa fa-check"></i><b>3.3.4</b> Select Columns with <code>select()</code></a></li>
<li class="chapter" data-level="3.3.5" data-path="data-frames.html"><a href="data-frames.html#pure-predictable-pipeable-optional"><i class="fa fa-check"></i><b>3.3.5</b> Pure, predictable, pipeable (OPTIONAL)</a></li>
<li class="chapter" data-level="3.3.6" data-path="data-frames.html"><a href="data-frames.html#additional-resources"><i class="fa fa-check"></i><b>3.3.6</b> Additional resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="more-dplyr.html"><a href="more-dplyr.html"><i class="fa fa-check"></i><b>4</b> More dplyr</a><ul>
<li class="chapter" data-level="4.1" data-path="more-dplyr.html"><a href="more-dplyr.html#review-and-preparation"><i class="fa fa-check"></i><b>4.1</b> Review and preparation</a><ul>
<li class="chapter" data-level="4.1.1" data-path="data-frames.html"><a href="data-frames.html#load-dplyr-and-gapminder"><i class="fa fa-check"></i><b>4.1.1</b> Load <code>dplyr</code> and gapminder</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="more-dplyr.html"><a href="more-dplyr.html#use-mutate-to-add-new-variables"><i class="fa fa-check"></i><b>4.2</b> Use mutate() to add new variables</a></li>
<li class="chapter" data-level="4.3" data-path="more-dplyr.html"><a href="more-dplyr.html#use-arrange-to-row-order-data"><i class="fa fa-check"></i><b>4.3</b> Use arrange() to row-order data</a></li>
<li class="chapter" data-level="4.4" data-path="more-dplyr.html"><a href="more-dplyr.html#use-rename-to-rename-variables"><i class="fa fa-check"></i><b>4.4</b> Use rename() to rename variables</a><ul>
<li class="chapter" data-level="4.4.1" data-path="more-dplyr.html"><a href="more-dplyr.html#select-can-rename-and-reposition-variables"><i class="fa fa-check"></i><b>4.4.1</b> <code>select()</code> Can Rename and Reposition Variables</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="more-dplyr.html"><a href="more-dplyr.html#perform-tasks-on-subsets-with-group_by"><i class="fa fa-check"></i><b>4.5</b> Perform tasks on subsets with <code>group_by()</code></a><ul>
<li class="chapter" data-level="4.5.1" data-path="more-dplyr.html"><a href="more-dplyr.html#counting"><i class="fa fa-check"></i><b>4.5.1</b> Counting</a></li>
<li class="chapter" data-level="4.5.2" data-path="more-dplyr.html"><a href="more-dplyr.html#general-summarization"><i class="fa fa-check"></i><b>4.5.2</b> General summarization</a></li>
<li class="chapter" data-level="4.5.3" data-path="more-dplyr.html"><a href="more-dplyr.html#computing-with-group-wise-summaries"><i class="fa fa-check"></i><b>4.5.3</b> Computing with group-wise summaries</a></li>
<li class="chapter" data-level="4.5.4" data-path="more-dplyr.html"><a href="more-dplyr.html#window-functions-optional"><i class="fa fa-check"></i><b>4.5.4</b> Window functions (OPTIONAL)</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="more-dplyr.html"><a href="more-dplyr.html#introduction-to-visualization-optional"><i class="fa fa-check"></i><b>4.6</b> Introduction to visualization (OPTIONAL)</a></li>
<li class="chapter" data-level="4.7" data-path="more-dplyr.html"><a href="more-dplyr.html#comprehensive-practice-optional"><i class="fa fa-check"></i><b>4.7</b> Comprehensive practice (OPTIONAL)</a></li>
<li class="chapter" data-level="4.8" data-path="more-dplyr.html"><a href="more-dplyr.html#summary"><i class="fa fa-check"></i><b>4.8</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>III Statistics</b></span></li>
<li class="chapter" data-level="5" data-path="central-limit-theorem.html"><a href="central-limit-theorem.html"><i class="fa fa-check"></i><b>5</b> Central limit theorem</a><ul>
<li class="chapter" data-level="5.1" data-path="central-limit-theorem.html"><a href="central-limit-theorem.html#central-limit-theorem-for-means"><i class="fa fa-check"></i><b>5.1</b> Central limit theorem for means</a></li>
<li class="chapter" data-level="5.2" data-path="central-limit-theorem.html"><a href="central-limit-theorem.html#central-limit-theorem-for-probability-optional"><i class="fa fa-check"></i><b>5.2</b> Central limit theorem for probability (OPTIONAL)</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html"><i class="fa fa-check"></i><b>6</b> Basic statistical tests</a><ul>
<li class="chapter" data-level="6.1" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#getting-ready"><i class="fa fa-check"></i><b>6.1</b> Getting ready</a></li>
<li class="chapter" data-level="6.2" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#students-t-test"><i class="fa fa-check"></i><b>6.2</b> Student’s t-test</a></li>
<li class="chapter" data-level="6.3" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#chi-squared-test"><i class="fa fa-check"></i><b>6.3</b> Chi-squared test</a><ul>
<li class="chapter" data-level="6.3.1" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#chi2-test-for-goodness-of-fit"><i class="fa fa-check"></i><b>6.3.1</b> <span class="math inline">\(\chi^2\)</span> test for goodness-of-fit</a></li>
<li class="chapter" data-level="6.3.2" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#chi2-test-for-independence"><i class="fa fa-check"></i><b>6.3.2</b> <span class="math inline">\(\chi^2\)</span> test for independence</a></li>
<li class="chapter" data-level="6.3.3" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#chi2-test-for-homogeneity"><i class="fa fa-check"></i><b>6.3.3</b> <span class="math inline">\(\chi^2\)</span> test for homogeneity</a></li>
<li class="chapter" data-level="6.3.4" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#fishers-exact-test-optional"><i class="fa fa-check"></i><b>6.3.4</b> Fisher’s exact test (OPTIONAL)</a></li>
<li class="chapter" data-level="6.3.5" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#comparison-of-proportions-optional"><i class="fa fa-check"></i><b>6.3.5</b> Comparison of proportions (OPTIONAL)</a></li>
<li class="chapter" data-level="6.3.6" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#contingency-tables"><i class="fa fa-check"></i><b>6.3.6</b> Contingency tables</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="basic-statistical-tests.html"><a href="basic-statistical-tests.html#visualizing-data-distributions-optional"><i class="fa fa-check"></i><b>6.4</b> Visualizing data distributions (OPTIONAL)</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html"><i class="fa fa-check"></i><b>7</b> Comparing multiple means</a><ul>
<li class="chapter" data-level="7.1" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#loading-packages"><i class="fa fa-check"></i><b>7.1</b> Loading packages</a></li>
<li class="chapter" data-level="7.2" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#merging-datasets"><i class="fa fa-check"></i><b>7.2</b> Merging datasets</a></li>
<li class="chapter" data-level="7.3" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#one-way-anova"><i class="fa fa-check"></i><b>7.3</b> One-way ANOVA</a><ul>
<li class="chapter" data-level="7.3.1" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#the-iris-dataset"><i class="fa fa-check"></i><b>7.3.1</b> The iris dataset</a></li>
<li class="chapter" data-level="7.3.2" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#non-parametric-alternatives-to-anova"><i class="fa fa-check"></i><b>7.3.2</b> Non-parametric alternatives to ANOVA</a></li>
<li class="chapter" data-level="7.3.3" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#two-way-anova"><i class="fa fa-check"></i><b>7.3.3</b> Two-way ANOVA</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#linear-regression"><i class="fa fa-check"></i><b>7.4</b> Linear regression</a><ul>
<li class="chapter" data-level="7.4.1" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#basic-concepts"><i class="fa fa-check"></i><b>7.4.1</b> Basic concepts</a></li>
<li class="chapter" data-level="7.4.2" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#pearson-correlation"><i class="fa fa-check"></i><b>7.4.2</b> Pearson correlation</a></li>
<li class="chapter" data-level="7.4.3" data-path="comparing-multiple-means.html"><a href="comparing-multiple-means.html#spearman-correlation"><i class="fa fa-check"></i><b>7.4.3</b> Spearman correlation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>8</b> Data visualization</a><ul>
<li class="chapter" data-level="8.1" data-path="data-visualization.html"><a href="data-visualization.html#a-graphing-template"><i class="fa fa-check"></i><b>8.1</b> A graphing template</a></li>
<li class="chapter" data-level="8.2" data-path="data-visualization.html"><a href="data-visualization.html#scatter-plot"><i class="fa fa-check"></i><b>8.2</b> Scatter plot</a><ul>
<li class="chapter" data-level="8.2.1" data-path="data-visualization.html"><a href="data-visualization.html#trend-lines"><i class="fa fa-check"></i><b>8.2.1</b> Trend lines</a></li>
<li class="chapter" data-level="8.2.2" data-path="data-visualization.html"><a href="data-visualization.html#facets"><i class="fa fa-check"></i><b>8.2.2</b> Facets</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="data-visualization.html"><a href="data-visualization.html#aesthetic-mappings"><i class="fa fa-check"></i><b>8.3</b> Aesthetic mappings</a></li>
<li class="chapter" data-level="8.4" data-path="data-visualization.html"><a href="data-visualization.html#line-plot"><i class="fa fa-check"></i><b>8.4</b> Line plot</a></li>
<li class="chapter" data-level="8.5" data-path="data-visualization.html"><a href="data-visualization.html#bar-plot"><i class="fa fa-check"></i><b>8.5</b> Bar plot</a><ul>
<li class="chapter" data-level="8.5.1" data-path="data-visualization.html"><a href="data-visualization.html#basics"><i class="fa fa-check"></i><b>8.5.1</b> Basics</a></li>
<li class="chapter" data-level="8.5.2" data-path="data-visualization.html"><a href="data-visualization.html#plotting-significance-optional"><i class="fa fa-check"></i><b>8.5.2</b> Plotting significance (OPTIONAL)</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="data-visualization.html"><a href="data-visualization.html#box-plot"><i class="fa fa-check"></i><b>8.6</b> Box plot</a></li>
<li class="chapter" data-level="8.7" data-path="data-visualization.html"><a href="data-visualization.html#histogram-and-density-plot"><i class="fa fa-check"></i><b>8.7</b> Histogram and density plot</a></li>
<li class="chapter" data-level="8.8" data-path="data-visualization.html"><a href="data-visualization.html#assembly-of-multiple-figures-optional"><i class="fa fa-check"></i><b>8.8</b> Assembly of multiple figures (OPTIONAL)</a></li>
<li class="chapter" data-level="8.9" data-path="data-visualization.html"><a href="data-visualization.html#extras-optional"><i class="fa fa-check"></i><b>8.9</b> Extras (OPTIONAL)</a><ul>
<li class="chapter" data-level="8.9.1" data-path="data-visualization.html"><a href="data-visualization.html#choropleth"><i class="fa fa-check"></i><b>8.9.1</b> Choropleth</a></li>
<li class="chapter" data-level="8.9.2" data-path="data-visualization.html"><a href="data-visualization.html#animations"><i class="fa fa-check"></i><b>8.9.2</b> Animations</a></li>
</ul></li>
<li class="chapter" data-level="8.10" data-path="data-frames.html"><a href="data-frames.html#additional-resources"><i class="fa fa-check"></i><b>8.10</b> Additional resources</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Gentle Introduction to Data Science with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="basics-of-r-and-rstudio" class="section level1">
<h1><span class="header-section-number">2</span> Basics of R and RStudio</h1>
<p>Launch RStudio.</p>
<p>Notice the default panes:</p>
<ul>
<li>Console (entire left)</li>
<li>Environment/History (upper right)</li>
<li>Files/Plots/Packages/Help (lower right)</li>
</ul>
<p>You can change the default location of the panes, among many other things: <a href="https://support.rstudio.com/hc/en-us/articles/200549016-Customizing-RStudio">Customizing RStudio</a>.</p>
<p>For now, go to the Console so we can begin our journey with R!</p>
<div id="objects" class="section level2">
<h2><span class="header-section-number">2.1</span> Objects</h2>
<p>Make an assignment and inspect the object you just created:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">5</span><span class="op">*</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">x</a></code></pre></div>
<pre><code>## [1] 50</code></pre>
<p>In plain English, the above snippet tells us that “five times ten is assigned to <code>x</code>”.</p>
<p>Every value you assign to an object will be in this form:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">objectName &lt;-<span class="st"> </span>value</a></code></pre></div>
<p>Don’t be lazy and use <code>=</code> to assign variables. Although this works, it will just sow confusion later. Instead, utilize RStudio’s keyboard shortcut: Alt + - (the minus sign). Notice that RStudio automagically surrounds <code>&lt;-</code> with spaces, which demonstrates a useful code formatting practice. Code is miserable to read on a good day. Give your eyes a break and use spaces.</p>
<p>RStudio offers many handy keyboard shortcuts. Alt+Shift+K brings up a keyboard shortcut reference card.</p>
<p>Object names cannot start with a digit and cannot contain certain other characters such as a comma or a space. You will be wise to adopt a convention for demarcating words in names.</p>
<pre><code>this_is_snake_case
other.people.use.periods
evenOthersUseCamelCase</code></pre>
<p>Make another assignment:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">this_is_a_really_long_name &lt;-<span class="st"> </span><span class="fl">2.5</span></a></code></pre></div>
<p>To inspect the object we just created, try out RStudio’s completion facility: type the first few characters, press TAB, add characters until you get what you want, then press return.</p>
<p>As a general rule of thumb, object names should be short and meaningful. Misleading or overly long object names will make it a pain to debug your code.</p>
<p>Let’s make another assignment:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">jennys_age &lt;-<span class="st"> </span><span class="dv">2</span> <span class="op">^</span><span class="st"> </span><span class="dv">5</span></a></code></pre></div>
<p>Now inspect the variable <code>jennys-age</code>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">jennys_age</a></code></pre></div>
<pre><code>## [1] 32</code></pre>
</div>
<div id="functions" class="section level2">
<h2><span class="header-section-number">2.2</span> Functions</h2>
<p>Functions are always followed by a pair of brackets <code>()</code>.</p>
<p>R has a mind-blowing collection of built-in functions that are accessed like so:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">functionName</span>(<span class="dt">arg1 =</span> val1, <span class="dt">arg2 =</span> val2, ...)</a></code></pre></div>
<p>Notice that we should use <code>=</code> instead of <code>-&gt;</code> within a function. Here, <code>arg1</code> and <code>arg2</code> are called the <strong>arguments</strong> of the function <code>functionName()</code>. Likewise, <code>val1</code> and <code>val2</code> are called the <strong>parameters</strong> of <code>arg1</code> and <code>arg2</code> respectively.</p>
<p>Let’s try using <code>seq()</code> which makes regular sequences of numbers and, while we’re at it, demo more helpful features of RStudio.</p>
<p>Type <code>se</code> and hit TAB. A pop up shows you possible completions. Select <code>seq()</code> by using the up/down arrows to select. Notice the floating tool-tip-type help that pops up reminding you of a function’s arguments.</p>
<p>If you want even more help, press F1 as directed to get the full documentation in the help tab of the lower right pane. Now open the parentheses and notice the automatic addition of the closing parenthesis and the placement of cursor in the middle. Type the arguments <code>1, 10</code> and hit return. RStudio also exits the parenthetical expression for you.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>)</a></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>The above also demonstrates something about how R resolves function arguments. You can always specify in <code>name = value</code> form. But if you don’t, R attempts to resolve by position. So above, it is assumed that we want a sequence <code>from = 1</code> that goes <code>to = 10</code>. Since we didn’t specify step size, the default value of <code>by</code> in the function definition is used, which ends up being 1 in this case. For functions I call often, I might use this resolve by position for the first
argument or maybe the first two. After that, I always use <code>name = value</code>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">1</span>, <span class="dt">to =</span> <span class="dv">10</span>, <span class="dt">by =</span> <span class="dv">2</span>)</a></code></pre></div>
<pre><code>## [1] 1 3 5 7 9</code></pre>
<p>Make this assignment and notice similar help with quotation marks.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">greeting &lt;-<span class="st"> &quot;hello world&quot;</span></a></code></pre></div>
<p>If you just make an assignment, you don’t see the assigned value. To show the assigned value, just call the variable.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">y &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb15-2" data-line-number="2">y</a></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>This common action can be shortened by surrounding the assignment with parentheses, which causes assignment and “print to screen” to happen.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">(y &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>))</a></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>Not all functions have (or require) arguments:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw">date</span>()</a></code></pre></div>
<pre><code>## [1] &quot;Mon Dec 21 20:12:38 2020&quot;</code></pre>
<p>Now look at your workspace – in the upper right pane. The workspace is where user-defined objects accumulate. You can also get a listing of these objects with commands:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw">objects</span>()</a></code></pre></div>
<pre><code>## [1] &quot;greeting&quot;                   &quot;jennys_age&quot;                
## [3] &quot;this_is_a_really_long_name&quot; &quot;x&quot;                         
## [5] &quot;y&quot;</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="kw">ls</span>()</a></code></pre></div>
<pre><code>## [1] &quot;greeting&quot;                   &quot;jennys_age&quot;                
## [3] &quot;this_is_a_really_long_name&quot; &quot;x&quot;                         
## [5] &quot;y&quot;</code></pre>
<p>If you want to remove the object named <code>y</code>, you can do this:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="kw">rm</span>(y)</a></code></pre></div>
<p>To remove everything:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">rm</span>(<span class="dt">list =</span> <span class="kw">ls</span>())</a></code></pre></div>
<p>or click the broom in RStudio’s Environment pane.</p>
</div>
<div id="working-directory" class="section level2">
<h2><span class="header-section-number">2.3</span> Working directory</h2>
<p>Any process running on your computer has a notion of its “working directory”. By default in R, a working directory is where R will look for files you ask it to load. It is also where any files you write to disk will go. Chances are your current working directory is the directory we inspected above, i.e. the one where RStudio wanted to save the workspace.</p>
<p>You can explicitly check your working directory with:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="kw">getwd</span>()</a></code></pre></div>
<p>It is also displayed at the top of the RStudio console. Notice that <code>getwd()</code> looks a lot like “get working directory”.</p>
<p>As a beginning R user, it’s OK let your home directory or any other weird directory on your computer be R’s working directory. <em>Very soon</em>, I urge you to evolve to the next level, where you organize your analytical projects into directories and, when working on project A, set R’s working directory to the associated directory.</p>
<p><strong>Although I do not recommend it</strong>, in case you’re curious, you can set R’s working directory at the command line like so:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw">setwd</span>(<span class="st">&quot;~/myCoolProject&quot;</span>)</a></code></pre></div>
<p>Let’s enter a few commands in the Console, as if we are just beginning a project:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb29-2" data-line-number="2">b &lt;-<span class="st"> </span><span class="dv">-3</span></a>
<a class="sourceLine" id="cb29-3" data-line-number="3">sig_sq &lt;-<span class="st"> </span><span class="fl">0.5</span></a>
<a class="sourceLine" id="cb29-4" data-line-number="4">x &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">40</span>)</a>
<a class="sourceLine" id="cb29-5" data-line-number="5">y &lt;-<span class="st"> </span>a <span class="op">+</span><span class="st"> </span>b <span class="op">*</span><span class="st"> </span>x <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">40</span>, <span class="dt">sd =</span> <span class="kw">sqrt</span>(sig_sq))</a>
<a class="sourceLine" id="cb29-6" data-line-number="6">(avg_x &lt;-<span class="st"> </span><span class="kw">mean</span>(x))</a></code></pre></div>
<pre><code>## [1] 0.4670738</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="kw">plot</span>(x, y)</a></code></pre></div>
<p><img src="_main_files/figure-html/toy-line-1.png" width="672" /></p>
<p>Let’s say this is a good start of an analysis and your ready to start preserving the logic and code. Visit the History tab of the upper right pane. Select these commands. Click “To Source”. Now you have a new pane containing a new R script. Click on the floppy disk to save. Give it a name ending in <code>.R</code> or <code>.r</code>. Note that, by default, it will go in the directory associated with your project.</p>
<p>Quit RStudio.</p>
<p>Restart RStudio. Notice that things, by default, restore to where we were earlier (e.g. objects in the workspace, the command history, which files are open for editing, where we are in the file system browser, the working directory for the R process, etc.)</p>
<p>Change some things about your code. Top priority would be to set a sample size <code>n</code> at the top (e.g. <code>n &lt;- 40</code>), and then replace all the hard-coded 40’s with <code>n</code>. Change some other minor-but-detectable stuff, e.g. alter the sample size <code>n</code>, the slope of the line <code>b</code>,the color of the line … whatever. Practice the different ways to re-run the code:</p>
<ul>
<li><p>Walk through line by line by keyboard shortcut (Command+Enter) or mouse (click “Run” in the upper right corner of editor pane).</p></li>
<li><p>Source the entire document – equivalent to entering <code>source('toy-line.r')</code> in the Console – by keyboard shortcut (Shift+Command+S) or mouse (click “Source” in the upper right corner of editor pane or select from the mini-menu accessible from the associated down triangle).</p></li>
</ul>
<p>Visit your figure in an external viewer to verify that the PDF is changing as you expect.</p>
<p>In your favorite OS-specific way, search your files for <code>toy_line_plot.pdf</code> and presumably you will find the PDF itself (no surprise) but <em>also the script that created it (<code>toy-line.r</code>)</em>. This latter phenomenon is a huge win. One day you will want to remake a figure or just simply understand where it came from. If you rigorously save figures to file <strong>with R code and not ever ever ever the mouse or the clipboard</strong>, you will sing my praises one day. Trust me.</p>
<div id="other-important-things" class="section level3">
<h3><span class="header-section-number">2.3.1</span> Other important things</h3>
<p>R scripts are usually saved with a <code>.R</code> or <code>.r</code> suffix. Follow this convention unless you have some extraordinary reason not to.</p>
<p>Comments start with one or more <code>#</code> symbols. Use them. RStudio helps you (de)comment selected lines with Ctrl+Shift+C (Windows and Linux) or Command+Shift+C (Mac).</p>
<p>Clean out the workspace, i.e. pretend like you’ve just revisited this project after a long absence. The broom icon or <code>rm(list = ls())</code>. Good idea to do this, restart R (available from the Session menu), re-run your analysis to truly check that the code you’re saving is complete and correct (or at least rule out obvious problems!).</p>
<p>This workflow will serve you well in the future:</p>
<ul>
<li>Create an RStudio project for an analytical project</li>
<li>Keep inputs there (we’ll soon talk about importing)</li>
<li>Keep scripts there; edit them, run them in bits or as a whole from there</li>
<li>Keep outputs there (like the PDF written above)</li>
</ul>
<p>Avoid using the mouse for pieces of your analytical workflow, such as loading a dataset or saving a figure. This is terribly important for reproducibility and for making it possible to retrospectively determine how a numerical table or PDF was actually produced (searching on local disk on filename, among <code>.R</code> files, will lead to the relevant script).</p>
<p>Many experienced users never save the workspace, never save <code>.RData</code> files (I’m one of them), never save or consult the history. Once/if you get to that point, there are options available in RStudio to disable the loading of <code>.RData</code> and permanently suppress the prompt on exit to save the workspace (go to <em>Tools &gt; Options &gt; General</em>).</p>
</div>
</div>
<div id="basic-math-in-r" class="section level2">
<h2><span class="header-section-number">2.4</span> Basic math in R</h2>
<p>Here are some basic math operations you can do in R:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span>  <span class="co"># addition</span></a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="dv">5</span> <span class="op">*</span><span class="st"> </span><span class="dv">4</span>  <span class="co"># multiplication</span></a></code></pre></div>
<pre><code>## [1] 20</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1"><span class="dv">10</span> <span class="op">/</span><span class="st"> </span><span class="dv">3</span>  <span class="co"># division</span></a></code></pre></div>
<pre><code>## [1] 3.333333</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="dv">6</span> <span class="op">^</span><span class="st"> </span><span class="dv">2</span>  <span class="co"># exponentiation</span></a></code></pre></div>
<pre><code>## [1] 36</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="kw">sqrt</span>(<span class="dv">5</span>)  <span class="co"># square root</span></a></code></pre></div>
<pre><code>## [1] 2.236068</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="kw">exp</span>(<span class="dv">1</span>)  <span class="co"># Euler&#39;s number</span></a></code></pre></div>
<pre><code>## [1] 2.718282</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1">pi</a></code></pre></div>
<pre><code>## [1] 3.141593</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1"><span class="kw">log</span>(<span class="kw">exp</span>(<span class="dv">1</span>))  <span class="co"># base e logarithm</span></a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1"><span class="kw">log10</span>(<span class="dv">100</span>)  <span class="co"># base 10 logarithm</span></a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1"><span class="dv">5</span> <span class="op">%%</span><span class="st"> </span><span class="dv">2</span>  <span class="co"># modular operation</span></a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1"><span class="kw">round</span>(<span class="fl">1.5579</span>, <span class="dt">digits =</span> <span class="dv">2</span>)  <span class="co"># rounding</span></a></code></pre></div>
<pre><code>## [1] 1.56</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="kw">round</span>(<span class="fl">15.632</span>, <span class="dv">2</span>)  <span class="co"># wihtout the `digits` argument</span></a></code></pre></div>
<pre><code>## [1] 15.63</code></pre>
</div>
<div id="data-structures-in-r" class="section level2">
<h2><span class="header-section-number">2.5</span> Data structures in R</h2>
<p>Data structures determines what operations/methods/functions are available for this object. For example, you can do +/-/*// for numbers, but these operations will not be available for strings. What operations do you imagine would be useful for strings?</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1"><span class="kw">paste</span>(<span class="st">&quot;hello&quot;</span>, <span class="st">&quot;world&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;hello,world&quot;</code></pre>
<div id="vectors" class="section level3">
<h3><span class="header-section-number">2.5.1</span> Vectors</h3>
<ul>
<li>A sequence of values with the <strong>same type</strong></li>
<li>Create using <code>c()</code>, which stands for “combine”</li>
</ul>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1">(sites &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>))</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<ul>
<li>Slicing:
<ul>
<li>Use <code>[]</code></li>
<li>In general <code>[]</code> in R means, “give me a piece of something”</li>
<li><code>sites[1]</code></li>
<li><code>sites[1:3]</code>
<ul>
<li><code>1:3</code> makes a vector.</li>
<li>You can use a vector to get any subset or order you want.</li>
</ul></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" data-line-number="1">sites[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>]</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;a&quot; &quot;b&quot;</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" data-line-number="1">sites[<span class="dv">4</span>]</a></code></pre></div>
<pre><code>## [1] &quot;c&quot;</code></pre>
<p>Here are some additional useful functions:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" data-line-number="1"><span class="kw">length</span>(sites)</a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" data-line-number="1">density_ha &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">2.8</span>, <span class="fl">3.2</span>, <span class="fl">1.5</span>, <span class="fl">3.8</span>)</a>
<a class="sourceLine" id="cb66-2" data-line-number="2"><span class="kw">mean</span>(density_ha)</a></code></pre></div>
<pre><code>## [1] 2.825</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" data-line-number="1"><span class="kw">max</span>(density_ha)</a></code></pre></div>
<pre><code>## [1] 3.8</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1"><span class="kw">min</span>(density_ha)</a></code></pre></div>
<pre><code>## [1] 1.5</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" data-line-number="1"><span class="kw">sum</span>(density_ha)</a></code></pre></div>
<pre><code>## [1] 11.3</code></pre>
</div>
<div id="missing-values-na" class="section level3">
<h3><span class="header-section-number">2.5.2</span> Missing values (NA)</h3>
<ul>
<li>So far we’ve worked with data with no missing values</li>
<li>How many of you have missing values in your data?</li>
</ul>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" data-line-number="1">density_ha &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">2.8</span>, <span class="fl">3.2</span>, <span class="fl">1.5</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb74-2" data-line-number="2"><span class="kw">mean</span>(density_ha)</a></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>Please note that <code>N/A</code> is different from <code>NULL</code>. Please look at the following example.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" data-line-number="1">c &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb76-2" data-line-number="2">d &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="ot">NULL</span>)</a>
<a class="sourceLine" id="cb76-3" data-line-number="3"><span class="co"># Let&#39;s take a look at what they are.</span></a>
<a class="sourceLine" id="cb76-4" data-line-number="4">c</a></code></pre></div>
<pre><code>## [1]  1  2  3 NA</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" data-line-number="1">d</a></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" data-line-number="1"><span class="co"># Do they work with a function such as mean()?</span></a>
<a class="sourceLine" id="cb80-2" data-line-number="2"><span class="kw">mean</span>(c)</a></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" data-line-number="1"><span class="kw">mean</span>(d)</a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<ul>
<li>Why did we get <code>NA</code>?
<ul>
<li>Hard to say what a calculation including <code>NA</code> should be</li>
<li>So most calculations return <code>NA</code> when <code>NA</code> is in the data</li>
</ul></li>
<li>Can tell many functions to remove the <code>NA</code> before calculating</li>
</ul>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" data-line-number="1"><span class="kw">mean</span>(density_ha, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] 2.5</code></pre>
</div>
<div id="working-with-multiple-vectors" class="section level3">
<h3><span class="header-section-number">2.5.3</span> Working with multiple vectors</h3>
<ul>
<li>Vector math combines values in the same position</li>
<li>Element-wise: operating on one element at a time</li>
</ul>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb86-1" data-line-number="1">density_ha &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">2.8</span>, <span class="fl">3.2</span>, <span class="fl">1.5</span>, <span class="fl">3.8</span>)</a>
<a class="sourceLine" id="cb86-2" data-line-number="2">area_ha &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="fl">1.9</span>, <span class="fl">2.7</span>)</a>
<a class="sourceLine" id="cb86-3" data-line-number="3">(total_number &lt;-<span class="st"> </span>density_ha <span class="op">*</span><span class="st"> </span>area_ha)</a></code></pre></div>
<pre><code>## [1]  8.40 16.00  2.85 10.26</code></pre>
<ul>
<li>Subsetting is done using <code>[]</code>, like slicing</li>
</ul>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" data-line-number="1"><span class="co"># recall: sites &lt;- c(&quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)</span></a>
<a class="sourceLine" id="cb88-2" data-line-number="2"><span class="co"># recall: area_ha &lt;- c(3, 5, 1.9, 2.7)</span></a>
<a class="sourceLine" id="cb88-3" data-line-number="3">area_ha[sites <span class="op">==</span><span class="st"> &#39;a&#39;</span>]</a></code></pre></div>
<pre><code>## [1] 3 5</code></pre>
<p>The above statement means you want to select all members of <code>area_ha</code> in all indices where <code>sites == 'a'</code>.</p>
<ul>
<li><code>==</code> means “equal to” in most languages.</li>
<li><p>Not <code>=</code>. <code>=</code> is used for assignment.</p></li>
<li><p>Can also do “not equal to”</p></li>
</ul>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" data-line-number="1"><span class="co"># sites &lt;- c(&quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)</span></a>
<a class="sourceLine" id="cb90-2" data-line-number="2"><span class="co"># area_ha &lt;- c(3, 5, 1.9, 2.7)</span></a>
<a class="sourceLine" id="cb90-3" data-line-number="3">area_ha[sites <span class="op">!=</span><span class="st"> &#39;a&#39;</span>]</a></code></pre></div>
<pre><code>## [1] 1.9 2.7</code></pre>
<ul>
<li>Greater or less than</li>
</ul>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" data-line-number="1"><span class="co"># sites &lt;- c(&quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)</span></a>
<a class="sourceLine" id="cb92-2" data-line-number="2"><span class="co"># area_ha &lt;- c(3, 5, 1.9, 2.7)</span></a>
<a class="sourceLine" id="cb92-3" data-line-number="3">sites[area_ha <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>]</a></code></pre></div>
<pre><code>## [1] &quot;a&quot;</code></pre>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" data-line-number="1">sites[area_ha <span class="op">&gt;=</span><span class="st"> </span><span class="dv">3</span>]</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;a&quot;</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb96-1" data-line-number="1">sites[area_ha <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span>]</a></code></pre></div>
<pre><code>## [1] &quot;b&quot; &quot;c&quot;</code></pre>
<ul>
<li>And we can subset a vector based on itself</li>
</ul>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb98-1" data-line-number="1">sites[sites <span class="op">!=</span><span class="st"> &#39;a&#39;</span>]</a></code></pre></div>
<pre><code>## [1] &quot;b&quot; &quot;c&quot;</code></pre>
</div>
<div id="data-frames" class="section level3">
<h3><span class="header-section-number">2.5.4</span> Data frames</h3>
<p>Data frames is where things get really exciting! We will use these data structures extensively in the upcoming labs, so it’s important to pay attention here.</p>
<p>A data frame (<code>data.frame()</code>) is a list of equal length vectors grouped together. Importantly, a data frame can contain both categorical and numerical values, whereas a vector can only contain variables of the same type (i.e., all numerical, all categorical, etc.).</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" data-line-number="1">surveys &lt;-<span class="st"> </span><span class="kw">data.frame</span>(sites, density_ha, area_ha)</a>
<a class="sourceLine" id="cb100-2" data-line-number="2">surveys</a></code></pre></div>
<pre><code>##   sites density_ha area_ha
## 1     a        2.8     3.0
## 2     a        3.2     5.0
## 3     b        1.5     1.9
## 4     c        3.8     2.7</code></pre>
<ul>
<li>Useful commands:
<ul>
<li><code>str(surveys)</code></li>
<li><code>length(surveys)</code></li>
<li><code>nrow(surveys)</code>, <code>ncol(surveys)</code></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb102-1" data-line-number="1"><span class="co"># structure of data frame</span></a>
<a class="sourceLine" id="cb102-2" data-line-number="2"><span class="kw">str</span>(surveys)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:	4 obs. of  3 variables:
##  $ sites     : Factor w/ 3 levels &quot;a&quot;,&quot;b&quot;,&quot;c&quot;: 1 1 2 3
##  $ density_ha: num  2.8 3.2 1.5 3.8
##  $ area_ha   : num  3 5 1.9 2.7</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" data-line-number="1"><span class="co">#length (# of records)</span></a>
<a class="sourceLine" id="cb104-2" data-line-number="2"><span class="kw">length</span>(surveys)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" data-line-number="1"><span class="co"># number of rows, same as length</span></a>
<a class="sourceLine" id="cb106-2" data-line-number="2"><span class="kw">nrow</span>(surveys)</a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" data-line-number="1"><span class="co"># number of columns</span></a>
<a class="sourceLine" id="cb108-2" data-line-number="2"><span class="kw">ncol</span>(surveys)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<ul>
<li>Subsetting:
<ul>
<li>[row, column]</li>
<li><code>surveys[1, 2]</code></li>
<li><code>surveys[1:2, 2:3]</code></li>
<li><code>surveys[, 3]</code></li>
<li><code>surveys[&quot;area_ha&quot;]</code></li>
<li><code>surveys[c(&quot;area_ha&quot;, &quot;sites&quot;)]</code></li>
<li><code>surveys$area_ha</code></li>
<li><code>surveys[[&quot;area_ha&quot;]]</code></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb110-1" data-line-number="1"><span class="co"># visit one cell by row and column</span></a>
<a class="sourceLine" id="cb110-2" data-line-number="2">surveys[<span class="dv">1</span>, <span class="dv">2</span>]</a></code></pre></div>
<pre><code>## [1] 2.8</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" data-line-number="1"><span class="co"># visit a range of rows and columns</span></a>
<a class="sourceLine" id="cb112-2" data-line-number="2">surveys[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">3</span>]</a></code></pre></div>
<pre><code>##   density_ha area_ha
## 1        2.8       3
## 2        3.2       5</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb114-1" data-line-number="1"><span class="co"># every row on the third column</span></a>
<a class="sourceLine" id="cb114-2" data-line-number="2">surveys[, <span class="dv">3</span>]</a></code></pre></div>
<pre><code>## [1] 3.0 5.0 1.9 2.7</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" data-line-number="1"><span class="co"># visit column by name</span></a>
<a class="sourceLine" id="cb116-2" data-line-number="2">surveys[<span class="st">&quot;area_ha&quot;</span>]</a></code></pre></div>
<pre><code>##   area_ha
## 1     3.0
## 2     5.0
## 3     1.9
## 4     2.7</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" data-line-number="1"><span class="co"># This way of calling columns is useful when working with &gt;1 columns</span></a>
<a class="sourceLine" id="cb118-2" data-line-number="2">surveys[<span class="kw">c</span>(<span class="st">&quot;area_ha&quot;</span>, <span class="st">&quot;sites&quot;</span>)]</a></code></pre></div>
<pre><code>##   area_ha sites
## 1     3.0     a
## 2     5.0     a
## 3     1.9     b
## 4     2.7     c</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" data-line-number="1"><span class="co"># visit column by name. Preferred way. Cannot be used for multiple columns.</span></a>
<a class="sourceLine" id="cb120-2" data-line-number="2">surveys<span class="op">$</span>area_ha</a></code></pre></div>
<pre><code>## [1] 3.0 5.0 1.9 2.7</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb122-1" data-line-number="1"><span class="co"># visit column by name</span></a>
<a class="sourceLine" id="cb122-2" data-line-number="2">surveys[[<span class="st">&quot;area_ha&quot;</span>]]</a></code></pre></div>
<pre><code>## [1] 3.0 5.0 1.9 2.7</code></pre>
</div>
<div id="reading-in-external-data" class="section level3">
<h3><span class="header-section-number">2.5.5</span> Reading in external data</h3>
<p><code>read.csv()</code>: main argument is the location of the data, which is either a url or a path on your computer.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb124-1" data-line-number="1">shrub_data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;https://datacarpentry.org/semester-biology/data/shrub-dimensions-labeled.csv&#39;</span>)</a></code></pre></div>
</div>
<div id="factors" class="section level3">
<h3><span class="header-section-number">2.5.6</span> Factors</h3>
<p>Let’s use the <code>str()</code> function to get more information about our variable <code>shrub_data</code>.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb125-1" data-line-number="1"><span class="kw">str</span>(shrub_data)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:	10 obs. of  4 variables:
##  $ shrubID: Factor w/ 10 levels &quot;a1&quot;,&quot;a2&quot;,&quot;b1&quot;,..: 1 2 3 4 5 6 7 8 9 10
##  $ length : num  2.2 2.1 2.7 3 3.1 2.5 1.9 1.1 3.5 2.9
##  $ width  : num  1.3 2.2 1.5 4.5 3.1 2.8 1.8 0.5 2 2.7
##  $ height : num  9.6 7.6 2.2 1.5 4 3 4.5 2.3 7.5 3.2</code></pre>
<p>Notice that the <code>shrubID</code> column has type <code>Factor</code>. A factor is a special data type in R for categorical data. Factor:</p>
<ol style="list-style-type: decimal">
<li>Are useful for statistics, but can mess up some aspects of computation; and</li>
<li>Can eliminate during imports with <code>stringsAsFactors</code></li>
</ol>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb127-1" data-line-number="1">shrub_data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;https://datacarpentry.org/semester-biology/data/shrub-dimensions-labeled.csv&#39;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb127-2" data-line-number="2"><span class="kw">str</span>(shrub_data)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:	10 obs. of  4 variables:
##  $ shrubID: chr  &quot;a1&quot; &quot;a2&quot; &quot;b1&quot; &quot;b2&quot; ...
##  $ length : num  2.2 2.1 2.7 3 3.1 2.5 1.9 1.1 3.5 2.9
##  $ width  : num  1.3 2.2 1.5 4.5 3.1 2.8 1.8 0.5 2 2.7
##  $ height : num  9.6 7.6 2.2 1.5 4 3 4.5 2.3 7.5 3.2</code></pre>
</div>
<div id="lists" class="section level3">
<h3><span class="header-section-number">2.5.7</span> Lists</h3>
<p>Lists are a vector-like structure that can store other objects/data structures. It’s sort of like a vector that holds vectors.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb129-1" data-line-number="1">sites &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)</a>
<a class="sourceLine" id="cb129-2" data-line-number="2">notes &lt;-<span class="st"> &quot;It was a good day in the field today. Warm, sunny, lots of gators.&quot;</span></a>
<a class="sourceLine" id="cb129-3" data-line-number="3">helpers &lt;-<span class="st"> </span><span class="dv">4</span></a>
<a class="sourceLine" id="cb129-4" data-line-number="4">field_notes &lt;-<span class="st"> </span><span class="kw">list</span>(sites, notes, helpers)</a>
<a class="sourceLine" id="cb129-5" data-line-number="5">field_notes[<span class="dv">1</span>]</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb131-1" data-line-number="1">field_notes[[<span class="dv">1</span>]]</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<p>We can also give the values names and access them using the <code>$</code> symbol (preferred) or via <code>[&quot;variable_name&quot;]</code> with subsetting.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb133-1" data-line-number="1">field_notes &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">sites=</span>sites, <span class="dt">notes=</span>notes, <span class="dt">helpers=</span>helpers)</a>
<a class="sourceLine" id="cb133-2" data-line-number="2">field_notes<span class="op">$</span>sites</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb135-1" data-line-number="1">field_notes[[<span class="st">&quot;sites&quot;</span>]]</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
</div>
</div>
<div id="conditionals" class="section level2">
<h2><span class="header-section-number">2.6</span> Conditionals</h2>
<div id="conditional-basics" class="section level3">
<h3><span class="header-section-number">2.6.1</span> Conditional basics</h3>
<p>Conditional statements are when we check to see if some condition is true or not. Forr example:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb137-1" data-line-number="1">weight <span class="op">&gt;</span><span class="st"> </span><span class="dv">50</span></a>
<a class="sourceLine" id="cb137-2" data-line-number="2">species <span class="op">==</span><span class="st"> &quot;DM&quot;</span></a></code></pre></div>
<ul>
<li>These statements generate a value is of type <code>&quot;logical&quot;</code></li>
<li>The value is <code>TRUE</code> (shorthand: <code>T</code>) if the condition is satisfied</li>
<li>The value is <code>FALSE</code> (shorthand: <code>F</code>) if the condition is not satisfied</li>
<li>These aren’t the strings “TRUE” and “FALSE”</li>
<li>They are a special type of value</li>
</ul>
<p>Conditional statements are made with a range of logical operators (operators that return <code>TRUE</code> or <code>FALSE</code>). So far, We’ve seen:
* <code>==</code> for equals
* <code>!=</code> for no equals
* <code>&lt;</code>, <code>&gt;</code> for less than and greater than
* <code>&lt;=</code>, <code>&gt;=</code> for less than or equal to and greater than or equal to
* <code>is.na()</code> for is this value null
* There are others, including <code>%in%</code>, which checks to see if a value is present in a vector of possible values</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb138-1" data-line-number="1"><span class="st">&quot;aang&quot;</span> <span class="op">==</span><span class="st"> &quot;aang&quot;</span></a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb140-1" data-line-number="1"><span class="st">&quot;aang&quot;</span> <span class="op">!=</span><span class="st"> &quot;kora&quot;</span></a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb142-1" data-line-number="1"><span class="dv">10</span> <span class="op">&lt;</span><span class="st"> </span><span class="dv">5</span></a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb144-1" data-line-number="1"><span class="dv">10</span> <span class="op">&gt;=</span><span class="st"> </span><span class="dv">5</span></a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb146-1" data-line-number="1"><span class="kw">is.na</span>(<span class="st">&quot;toph&quot;</span>)</a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb148-1" data-line-number="1"><span class="st">&quot;zuko&quot;</span> <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;aang&quot;</span>, <span class="st">&quot;toph&quot;</span>, <span class="st">&quot;katara&quot;</span>)</a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<ul>
<li>We can combine conditions using <code>and</code> and <code>or</code></li>
<li>We use the <code>&amp;</code> for “and”</li>
<li>Which means if both conditions are <code>TRUE</code> return <code>TRUE</code></li>
<li>If one of the contions is <code>FALSE</code> then return <code>FALSE</code></li>
</ul>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb150-1" data-line-number="1"><span class="dv">5</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span> <span class="op">&amp;</span><span class="st"> </span><span class="dv">6</span> <span class="op">&gt;=</span><span class="dv">10</span></a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<ul>
<li>We use the <code>|</code> for “or”</li>
<li>Which means if either or both of the conditions are <code>TRUE</code> return <code>TRUE</code></li>
</ul>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb152-1" data-line-number="1"><span class="dv">5</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span> <span class="op">|</span><span class="st"> </span><span class="dv">6</span> <span class="op">&gt;=</span><span class="dv">10</span></a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<ul>
<li>Vectors of values compared to a single value return one logical per value</li>
</ul>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb154-1" data-line-number="1"><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>) <span class="op">==</span><span class="st"> </span><span class="dv">1</span></a></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE FALSE  TRUE</code></pre>
<ul>
<li>Checks each value to see if equal to 1</li>
<li>This is what subsetting approaches use to subset</li>
<li>They keep the values where the value in this condition vector is equal to <code>TRUE</code></li>
<li>Let’s look at an example where we have a vector of sites and a vector the the states they occur in</li>
</ul>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb156-1" data-line-number="1">site =<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>, <span class="st">&#39;d&#39;</span>)</a>
<a class="sourceLine" id="cb156-2" data-line-number="2">state =<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;FL&#39;</span>, <span class="st">&#39;FL&#39;</span>, <span class="st">&#39;GA&#39;</span>, <span class="st">&#39;AL&#39;</span>)</a></code></pre></div>
<ul>
<li>A conditional statement checking if the state is <code>'FL'</code> returns a vector of <code>TRUE</code>’s and <code>FALSE</code>s</li>
</ul>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb157-1" data-line-number="1">state <span class="op">==</span><span class="st"> &#39;FL&#39;</span></a></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE FALSE</code></pre>
<ul>
<li>So when we filter the <code>site</code> vector to only return values where the <code>state</code> is equal to <code>'FL'</code></li>
</ul>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb159-1" data-line-number="1">site[state <span class="op">==</span><span class="st"> &#39;FL&#39;</span>]</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot;</code></pre>
<ul>
<li>It is the same as pass a vector of <code>TRUE</code> and <code>FALSE</code> values inside the square brackets</li>
</ul>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb161-1" data-line-number="1">site[<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>)]</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot;</code></pre>
<ul>
<li>This keeps the first and second values in <code>site</code> because the values in the vector are <code>TRUE</code></li>
<li>This is how <code>dplyr::filter()</code> and other methods for subsetting data work</li>
</ul>
</div>
<div id="if-statements" class="section level3">
<h3><span class="header-section-number">2.6.2</span> <code>if</code> statements</h3>
<ul>
<li>Conditional statements generate logical values to filter inputs.</li>
<li><code>if</code> statements use conditional statements to control flow of the program.</li>
</ul>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb163-1" data-line-number="1"><span class="cf">if</span> (the conditional statement is <span class="ot">TRUE</span>) {</a>
<a class="sourceLine" id="cb163-2" data-line-number="2">  do something</a>
<a class="sourceLine" id="cb163-3" data-line-number="3">}</a></code></pre></div>
<ul>
<li>Example</li>
</ul>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb164-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">6</span></a>
<a class="sourceLine" id="cb164-2" data-line-number="2"><span class="cf">if</span> (x <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>) {</a>
<a class="sourceLine" id="cb164-3" data-line-number="3">  x =<span class="st"> </span>x<span class="op">^</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb164-4" data-line-number="4">}</a>
<a class="sourceLine" id="cb164-5" data-line-number="5">x</a></code></pre></div>
<pre><code>## [1] 36</code></pre>
<ul>
<li><code>x &gt; 5</code> is <code>TRUE</code>, so the code in the <code>if</code> runs</li>
<li><code>x</code> is now 6^2 or 36</li>
<li>Change <code>x</code> to 4</li>
</ul>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb166-1" data-line-number="1">x =<span class="st"> </span><span class="dv">4</span></a>
<a class="sourceLine" id="cb166-2" data-line-number="2"><span class="cf">if</span> (x <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>) {</a>
<a class="sourceLine" id="cb166-3" data-line-number="3">  x =<span class="st"> </span>x<span class="op">^</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb166-4" data-line-number="4">}</a>
<a class="sourceLine" id="cb166-5" data-line-number="5">x</a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<ul>
<li><code>x &gt; 5</code> is <code>FALSE</code>, so the code in the <code>if</code> doesn’t run</li>
<li><code>x</code> is still 4</li>
<li>This is <em>not</em> a function, so everything that happens in the if statement
influences the global environment</li>
</ul>
<p>Here’s a slightly more applied example:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb168-1" data-line-number="1">veg_type &lt;-<span class="st"> &quot;tree&quot;</span></a>
<a class="sourceLine" id="cb168-2" data-line-number="2">volume &lt;-<span class="st"> </span><span class="fl">16.08</span></a>
<a class="sourceLine" id="cb168-3" data-line-number="3"><span class="cf">if</span> (veg_type <span class="op">==</span><span class="st"> &quot;tree&quot;</span>) {</a>
<a class="sourceLine" id="cb168-4" data-line-number="4">  mass &lt;-<span class="st"> </span><span class="fl">2.65</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">0.9</span></a>
<a class="sourceLine" id="cb168-5" data-line-number="5">}</a>
<a class="sourceLine" id="cb168-6" data-line-number="6">mass</a></code></pre></div>
<pre><code>## [1] 32.27775</code></pre>
<ul>
<li>We often want to chose one of several options.</li>
<li>We can add more conditions and associated actions with <code>else if</code></li>
</ul>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb170-1" data-line-number="1">veg_type &lt;-<span class="st"> &quot;grass&quot;</span></a>
<a class="sourceLine" id="cb170-2" data-line-number="2">volume &lt;-<span class="st"> </span><span class="fl">16.08</span></a>
<a class="sourceLine" id="cb170-3" data-line-number="3"><span class="cf">if</span> (veg_type <span class="op">==</span><span class="st"> &quot;tree&quot;</span>) {</a>
<a class="sourceLine" id="cb170-4" data-line-number="4">  mass &lt;-<span class="st"> </span><span class="fl">2.65</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">0.9</span></a>
<a class="sourceLine" id="cb170-5" data-line-number="5">} <span class="cf">else</span> <span class="cf">if</span> (veg_type <span class="op">==</span><span class="st"> &quot;grass&quot;</span>) {</a>
<a class="sourceLine" id="cb170-6" data-line-number="6">  mass &lt;-<span class="st"> </span><span class="fl">0.65</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">1.2</span></a>
<a class="sourceLine" id="cb170-7" data-line-number="7">}</a>
<a class="sourceLine" id="cb170-8" data-line-number="8">mass</a></code></pre></div>
<pre><code>## [1] 18.21615</code></pre>
<p>Here, our script:
1. Checks the first condition
2. If <code>TRUE</code> runs that condition’s code and skips the rest
3. If not it checks the next one until it runs out of conditions</p>
<p>We can specify what to do if none of the conditions are <code>TRUE</code> by using <code>else</code> on its own</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb172-1" data-line-number="1">veg_type &lt;-<span class="st"> &quot;shrub&quot;</span></a>
<a class="sourceLine" id="cb172-2" data-line-number="2">volume &lt;-<span class="st"> </span><span class="fl">16.08</span></a>
<a class="sourceLine" id="cb172-3" data-line-number="3"><span class="cf">if</span> (veg_type <span class="op">==</span><span class="st"> &quot;tree&quot;</span>) {</a>
<a class="sourceLine" id="cb172-4" data-line-number="4">  mass &lt;-<span class="st"> </span><span class="fl">2.65</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">0.9</span></a>
<a class="sourceLine" id="cb172-5" data-line-number="5">} <span class="cf">else</span> <span class="cf">if</span> (veg_type <span class="op">==</span><span class="st"> &quot;grass&quot;</span>) {</a>
<a class="sourceLine" id="cb172-6" data-line-number="6">  mass &lt;-<span class="st"> </span><span class="fl">0.65</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">1.2</span></a>
<a class="sourceLine" id="cb172-7" data-line-number="7">} <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb172-8" data-line-number="8">  mass &lt;-<span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb172-9" data-line-number="9">}</a>
<a class="sourceLine" id="cb172-10" data-line-number="10">mass</a></code></pre></div>
<pre><code>## [1] NA</code></pre>
</div>
<div id="multiple-ifs-vs-else-if" class="section level3">
<h3><span class="header-section-number">2.6.3</span> Multiple <code>if</code>s vs <code>else if</code></h3>
<p>Multiple ifs check each conditional separately, which is very inefficient. That is, R executes code for all conditions that are <code>TRUE</code>.</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb174-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb174-2" data-line-number="2"><span class="cf">if</span> (x <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span>) {</a>
<a class="sourceLine" id="cb174-3" data-line-number="3">  x <span class="op">*</span><span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb174-4" data-line-number="4">}</a></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb176-1" data-line-number="1"><span class="cf">if</span> (x <span class="op">&gt;</span><span class="st"> </span><span class="dv">4</span>) {</a>
<a class="sourceLine" id="cb176-2" data-line-number="2">  x <span class="op">*</span><span class="st"> </span><span class="dv">4</span></a>
<a class="sourceLine" id="cb176-3" data-line-number="3">}</a></code></pre></div>
<pre><code>## [1] 20</code></pre>
<p><code>else if</code> checks each condition sequentially, and ONLY executes code for the first condition that is <code>TRUE</code></p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb178-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb178-2" data-line-number="2"><span class="cf">if</span> (x <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span>) {</a>
<a class="sourceLine" id="cb178-3" data-line-number="3">  x <span class="op">*</span><span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb178-4" data-line-number="4">} <span class="cf">else</span> <span class="cf">if</span> (x <span class="op">&gt;</span><span class="st"> </span><span class="dv">4</span>) {</a>
<a class="sourceLine" id="cb178-5" data-line-number="5">  x <span class="op">*</span><span class="st"> </span><span class="dv">4</span></a>
<a class="sourceLine" id="cb178-6" data-line-number="6">}</a></code></pre></div>
<pre><code>## [1] 10</code></pre>
</div>
</div>
<div id="for-loops" class="section level2">
<h2><span class="header-section-number">2.7</span> <code>for</code> loops</h2>
<div id="basic-for-loop" class="section level3">
<h3><span class="header-section-number">2.7.1</span> Basic <code>for</code> loop</h3>
<ul>
<li>Fundamental structure for repetition in programming</li>
<li>Do same action to each item in a list of things</li>
</ul>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb180-1" data-line-number="1"><span class="cf">for</span> (item <span class="cf">in</span> list_of_items) {</a>
<a class="sourceLine" id="cb180-2" data-line-number="2">  <span class="kw">do_something</span>(item)</a>
<a class="sourceLine" id="cb180-3" data-line-number="3">}</a></code></pre></div>
<ul>
<li>Need <code>print()</code> to display values inside a loop or function.</li>
</ul>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb181-1" data-line-number="1">volumes =<span class="st"> </span><span class="kw">c</span>(<span class="fl">1.6</span>, <span class="dv">3</span>, <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb181-2" data-line-number="2"><span class="cf">for</span> (volume <span class="cf">in</span> volumes){</a>
<a class="sourceLine" id="cb181-3" data-line-number="3">  <span class="kw">print</span>(<span class="fl">2.65</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">0.9</span>)</a>
<a class="sourceLine" id="cb181-4" data-line-number="4">}</a></code></pre></div>
<pre><code>## [1] 4.045329
## [1] 7.12287
## [1] 17.21975</code></pre>
<ul>
<li>This does the same exact thing as</li>
</ul>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb183-1" data-line-number="1">volume &lt;-<span class="st"> </span>volumes[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb183-2" data-line-number="2"><span class="kw">print</span>(<span class="fl">2.65</span> <span class="op">*</span><span class="st"> </span>volume <span class="op">^</span><span class="st"> </span><span class="fl">0.9</span>)</a></code></pre></div>
<pre><code>## [1] 4.045329</code></pre>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb185-1" data-line-number="1">volume &lt;-<span class="st"> </span>volumes[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb185-2" data-line-number="2"><span class="kw">print</span>(<span class="fl">2.65</span> <span class="op">*</span><span class="st"> </span>volume <span class="op">^</span><span class="st"> </span><span class="fl">0.9</span>)</a></code></pre></div>
<pre><code>## [1] 7.12287</code></pre>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb187-1" data-line-number="1">volume &lt;-<span class="st"> </span>volumes[<span class="dv">3</span>]</a>
<a class="sourceLine" id="cb187-2" data-line-number="2"><span class="kw">print</span>(<span class="fl">2.65</span> <span class="op">*</span><span class="st"> </span>volume <span class="op">^</span><span class="st"> </span><span class="fl">0.9</span>)</a></code></pre></div>
<pre><code>## [1] 17.21975</code></pre>
<ul>
<li>Can have many rows in a loop body</li>
</ul>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb189-1" data-line-number="1"><span class="cf">for</span> (volume <span class="cf">in</span> volumes){</a>
<a class="sourceLine" id="cb189-2" data-line-number="2">   mass &lt;-<span class="st"> </span><span class="fl">2.65</span> <span class="op">*</span><span class="st"> </span>volume <span class="op">^</span><span class="st"> </span><span class="fl">0.9</span></a>
<a class="sourceLine" id="cb189-3" data-line-number="3">   mass_lb &lt;-<span class="st"> </span>mass <span class="op">*</span><span class="st"> </span><span class="fl">2.2</span></a>
<a class="sourceLine" id="cb189-4" data-line-number="4">   <span class="kw">print</span>(mass_lb)</a>
<a class="sourceLine" id="cb189-5" data-line-number="5">}</a></code></pre></div>
<pre><code>## [1] 8.899724
## [1] 15.67031
## [1] 37.88345</code></pre>
</div>
<div id="looping-with-an-index-storing-results" class="section level3">
<h3><span class="header-section-number">2.7.2</span> Looping with an index &amp; storing results</h3>
<ul>
<li>Loops over integers and uses these integers to access the vector the associated positions</li>
</ul>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb191-1" data-line-number="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(volumes)){</a>
<a class="sourceLine" id="cb191-2" data-line-number="2">   mass &lt;-<span class="st"> </span><span class="fl">2.65</span> <span class="op">*</span><span class="st"> </span>volumes[i] <span class="op">^</span><span class="st"> </span><span class="fl">0.9</span></a>
<a class="sourceLine" id="cb191-3" data-line-number="3">   <span class="kw">print</span>(mass)</a>
<a class="sourceLine" id="cb191-4" data-line-number="4">}</a></code></pre></div>
<pre><code>## [1] 4.045329
## [1] 7.12287
## [1] 17.21975</code></pre>
<ul>
<li>Use this “index” to get the values at that position</li>
<li><p>Can use the “index” for multiple vectors</p></li>
<li>Looping with an index allows us to store results calculated in the loop</li>
<li>First create an empty vector the length of the results</li>
<li><code>mode</code> is the type of data we are going to store</li>
<li><p><code>length</code> is the length of the vector</p></li>
</ul>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb193-1" data-line-number="1">masses &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">mode =</span> <span class="st">&quot;numeric&quot;</span>, <span class="dt">length =</span> <span class="kw">length</span>(volumes))</a>
<a class="sourceLine" id="cb193-2" data-line-number="2">masses</a></code></pre></div>
<pre><code>## [1] 0 0 0</code></pre>
<ul>
<li>Then add each result in the right position</li>
<li>For each trip through the loop put the output into the empty vector at the ith position</li>
</ul>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb195-1" data-line-number="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(volumes)){</a>
<a class="sourceLine" id="cb195-2" data-line-number="2">   mass &lt;-<span class="st"> </span><span class="fl">2.65</span> <span class="op">*</span><span class="st"> </span>volumes[i] <span class="op">^</span><span class="st"> </span><span class="fl">0.9</span></a>
<a class="sourceLine" id="cb195-3" data-line-number="3">   masses[i] &lt;-<span class="st"> </span>mass</a>
<a class="sourceLine" id="cb195-4" data-line-number="4">}</a>
<a class="sourceLine" id="cb195-5" data-line-number="5">masses</a></code></pre></div>
<pre><code>## [1]  4.045329  7.122870 17.219751</code></pre>
<ul>
<li><p>Walk through iteration in debugger</p></li>
<li><p>Looping with an index also allows us to access values from multiple vectors</p></li>
</ul>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb197-1" data-line-number="1">b0 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">2.65</span>, <span class="fl">1.28</span>, <span class="fl">3.29</span>)</a>
<a class="sourceLine" id="cb197-2" data-line-number="2">b1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.9</span>, <span class="fl">1.1</span>, <span class="fl">1.2</span>)</a>
<a class="sourceLine" id="cb197-3" data-line-number="3">masses &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">mode=</span><span class="st">&quot;numeric&quot;</span>, <span class="dt">length=</span><span class="kw">length</span>(volumes))</a>
<a class="sourceLine" id="cb197-4" data-line-number="4"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(volumes)){</a>
<a class="sourceLine" id="cb197-5" data-line-number="5">   mass &lt;-<span class="st"> </span>b0[i] <span class="op">*</span><span class="st"> </span>volumes[i] <span class="op">^</span><span class="st"> </span>b1[i]</a>
<a class="sourceLine" id="cb197-6" data-line-number="6">   masses[i] &lt;-<span class="st"> </span>mass</a>
<a class="sourceLine" id="cb197-7" data-line-number="7">}</a></code></pre></div>
</div>
<div id="looping-over-files-optional" class="section level3">
<h3><span class="header-section-number">2.7.3</span> Looping over files (OPTIONAL)</h3>
<ul>
<li>Repeat same actions on many similar files</li>
<li>Get names of satellite collar location files</li>
</ul>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb198-1" data-line-number="1">data_files =<span class="st"> </span><span class="kw">list.files</span>(<span class="dt">path =</span> <span class="st">&quot;data/02_intro-to-r&quot;</span>, <span class="dt">pattern =</span> <span class="st">&quot;locations-.*.txt&quot;</span>, </a>
<a class="sourceLine" id="cb198-2" data-line-number="2">                        <span class="dt">full.names =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<ul>
<li>Calculate the number of observations in each file</li>
</ul>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb199-1" data-line-number="1">results &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">mode =</span> <span class="st">&quot;integer&quot;</span>, <span class="dt">length =</span> <span class="kw">length</span>(data_files))</a>
<a class="sourceLine" id="cb199-2" data-line-number="2"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(data_files)){</a>
<a class="sourceLine" id="cb199-3" data-line-number="3">  data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(data_files[i])</a>
<a class="sourceLine" id="cb199-4" data-line-number="4">  count &lt;-<span class="st"> </span><span class="kw">nrow</span>(data)</a>
<a class="sourceLine" id="cb199-5" data-line-number="5">  results[i] &lt;-<span class="st"> </span>count</a>
<a class="sourceLine" id="cb199-6" data-line-number="6">}</a></code></pre></div>
<ul>
<li>Store output in a data frame instead of a vector</li>
<li>Associate the file name with the count</li>
</ul>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb200-1" data-line-number="1">results &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">file_name =</span> <span class="kw">character</span>(<span class="kw">length</span>(data_files)),</a>
<a class="sourceLine" id="cb200-2" data-line-number="2">                      <span class="dt">count =</span> <span class="kw">integer</span>(<span class="kw">length</span>(data_files)),</a>
<a class="sourceLine" id="cb200-3" data-line-number="3">                      <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb200-4" data-line-number="4"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(data_files)){</a>
<a class="sourceLine" id="cb200-5" data-line-number="5">  data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(data_files[i])</a>
<a class="sourceLine" id="cb200-6" data-line-number="6">  count &lt;-<span class="st"> </span><span class="kw">nrow</span>(data)</a>
<a class="sourceLine" id="cb200-7" data-line-number="7">  results<span class="op">$</span>file_name[i] &lt;-<span class="st"> </span>data_files[i]</a>
<a class="sourceLine" id="cb200-8" data-line-number="8">  results<span class="op">$</span>count[i] &lt;-<span class="st"> </span>count</a>
<a class="sourceLine" id="cb200-9" data-line-number="9">}</a>
<a class="sourceLine" id="cb200-10" data-line-number="10">results</a></code></pre></div>
<pre><code>##                                     file_name count
## 1 data/02_intro-to-r/locations-2016-01-01.txt     4
## 2 data/02_intro-to-r/locations-2016-01-02.txt     8
## 3 data/02_intro-to-r/locations-2016-01-03.txt    10
## 4 data/02_intro-to-r/locations-2016-01-04.txt    10
## 5 data/02_intro-to-r/locations-2016-01-05.txt    12</code></pre>
<ul>
<li>With <code>apply</code></li>
</ul>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb202-1" data-line-number="1">get_counts &lt;-<span class="st"> </span><span class="cf">function</span>(data_file_name){</a>
<a class="sourceLine" id="cb202-2" data-line-number="2">  file &lt;-<span class="st"> </span><span class="kw">read.csv</span>(data_file_name)</a>
<a class="sourceLine" id="cb202-3" data-line-number="3">  count &lt;-<span class="st"> </span><span class="kw">nrow</span>(file)</a>
<a class="sourceLine" id="cb202-4" data-line-number="4">  <span class="kw">return</span>(count)</a>
<a class="sourceLine" id="cb202-5" data-line-number="5">}</a>
<a class="sourceLine" id="cb202-6" data-line-number="6"></a>
<a class="sourceLine" id="cb202-7" data-line-number="7">results &lt;-<span class="st"> </span><span class="kw">unlist</span>(<span class="kw">lapply</span>(data_files, get_counts))</a>
<a class="sourceLine" id="cb202-8" data-line-number="8"></a>
<a class="sourceLine" id="cb202-9" data-line-number="9">results</a></code></pre></div>
<pre><code>## [1]  4  8 10 10 12</code></pre>
<ul>
<li>How to choose when there are many ways to do the same thing?
<ul>
<li>Speed
<ul>
<li>Matters in few cases</li>
<li>Hard to identify bottlenecks</li>
</ul></li>
<li>Readability
<ul>
<li>Easy to understand</li>
</ul></li>
<li>Personal preference</li>
</ul></li>
<li>There is no “right” way to do anything</li>
</ul>
</div>
<div id="subsetting-data-optional" class="section level3">
<h3><span class="header-section-number">2.7.4</span> Subsetting data (OPTIONAL)</h3>
<ul>
<li>Loops can subset in ways that are difficult with things like <code>group_by</code></li>
<li>Look at some data on trees from the National Ecological Observatory Network</li>
</ul>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb204-1" data-line-number="1"><span class="kw">library</span>(ggplot2)</a></code></pre></div>
<pre><code>## Warning: package &#39;ggplot2&#39; was built under R version 3.6.2</code></pre>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb206-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a></code></pre></div>
<pre><code>## Warning: package &#39;dplyr&#39; was built under R version 3.6.2</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb211-1" data-line-number="1">neon_trees &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;data/02_intro-to-r/HARV_034subplt.csv&#39;</span>)</a>
<a class="sourceLine" id="cb211-2" data-line-number="2"><span class="kw">ggplot</span>(neon_trees, <span class="kw">aes</span>(<span class="dt">x =</span> easting, <span class="dt">y =</span> northing)) <span class="op">+</span></a>
<a class="sourceLine" id="cb211-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_point</span>()</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-66-1.png" width="672" /></p>
<ul>
<li>Look at a north-south gradient in number of trees</li>
<li>Need to know number of trees in each band of y values</li>
<li>Start by defining the size of the window we want to use
<ul>
<li>Use the grid lines which are 2.5 m</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb212-1" data-line-number="1">window_size &lt;-<span class="st"> </span><span class="fl">2.5</span></a></code></pre></div>
<ul>
<li>Then figure out the edges for each window</li>
</ul>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb213-1" data-line-number="1">south_edges &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">4713095</span>, <span class="fl">4713117.5</span>, <span class="dt">by =</span> window_size)</a>
<a class="sourceLine" id="cb213-2" data-line-number="2">north_edges &lt;-<span class="st"> </span>south_edges <span class="op">+</span><span class="st"> </span>window_size</a></code></pre></div>
<ul>
<li>But we don’t want to go all the way to the far edge</li>
</ul>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb214-1" data-line-number="1">south_edges &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">4713095</span>, <span class="fl">4713117.5</span> <span class="op">-</span><span class="st"> </span>window_size, <span class="dt">by =</span> window_size)</a>
<a class="sourceLine" id="cb214-2" data-line-number="2">north_edges &lt;-<span class="st"> </span>south_edges <span class="op">+</span><span class="st"> </span>window_size</a></code></pre></div>
<ul>
<li>Set up an empty data frame to store the output</li>
</ul>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb215-1" data-line-number="1">counts &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">mode =</span> <span class="st">&quot;numeric&quot;</span>, <span class="dt">length =</span> <span class="kw">length</span>(south_edges))</a></code></pre></div>
<ul>
<li>Look over the left edges and subset the data occurring within each window</li>
</ul>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb216-1" data-line-number="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(south_edges)) {</a>
<a class="sourceLine" id="cb216-2" data-line-number="2">  data_in_window &lt;-<span class="st"> </span><span class="kw">filter</span>(neon_trees, northing <span class="op">&gt;=</span><span class="st"> </span>south_edges[i], northing <span class="op">&lt;</span><span class="st"> </span>north_edges[i])</a>
<a class="sourceLine" id="cb216-3" data-line-number="3">  counts[i] &lt;-<span class="st"> </span><span class="kw">nrow</span>(data_in_window)</a>
<a class="sourceLine" id="cb216-4" data-line-number="4">}</a>
<a class="sourceLine" id="cb216-5" data-line-number="5">counts</a></code></pre></div>
<pre><code>## [1] 5 9 4 9 7 4 6 3 7</code></pre>
</div>
<div id="nested-loops-optional" class="section level3">
<h3><span class="header-section-number">2.7.5</span> Nested loops (OPTIONAL)</h3>
<ul>
<li>Sometimes need to loop over multiple things in a coordinate fashion</li>
<li>Pass a window over some spatial data</li>
<li><p>Look at full spatial pattern not just east-west gradient</p></li>
<li><p>Basic nested loops work by putting one loop inside another one</p></li>
</ul>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb218-1" data-line-number="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) {</a>
<a class="sourceLine" id="cb218-2" data-line-number="2">  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) {</a>
<a class="sourceLine" id="cb218-3" data-line-number="3">    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;i = &quot;</span> , i, <span class="st">&quot;; j = &quot;</span>, j))</a>
<a class="sourceLine" id="cb218-4" data-line-number="4">  }</a>
<a class="sourceLine" id="cb218-5" data-line-number="5">}</a></code></pre></div>
<pre><code>## [1] &quot;i =  1 ; j =  1&quot;
## [1] &quot;i =  1 ; j =  2&quot;
## [1] &quot;i =  1 ; j =  3&quot;
## [1] &quot;i =  1 ; j =  4&quot;
## [1] &quot;i =  1 ; j =  5&quot;
## [1] &quot;i =  2 ; j =  1&quot;
## [1] &quot;i =  2 ; j =  2&quot;
## [1] &quot;i =  2 ; j =  3&quot;
## [1] &quot;i =  2 ; j =  4&quot;
## [1] &quot;i =  2 ; j =  5&quot;
## [1] &quot;i =  3 ; j =  1&quot;
## [1] &quot;i =  3 ; j =  2&quot;
## [1] &quot;i =  3 ; j =  3&quot;
## [1] &quot;i =  3 ; j =  4&quot;
## [1] &quot;i =  3 ; j =  5&quot;
## [1] &quot;i =  4 ; j =  1&quot;
## [1] &quot;i =  4 ; j =  2&quot;
## [1] &quot;i =  4 ; j =  3&quot;
## [1] &quot;i =  4 ; j =  4&quot;
## [1] &quot;i =  4 ; j =  5&quot;
## [1] &quot;i =  5 ; j =  1&quot;
## [1] &quot;i =  5 ; j =  2&quot;
## [1] &quot;i =  5 ; j =  3&quot;
## [1] &quot;i =  5 ; j =  4&quot;
## [1] &quot;i =  5 ; j =  5&quot;
## [1] &quot;i =  6 ; j =  1&quot;
## [1] &quot;i =  6 ; j =  2&quot;
## [1] &quot;i =  6 ; j =  3&quot;
## [1] &quot;i =  6 ; j =  4&quot;
## [1] &quot;i =  6 ; j =  5&quot;
## [1] &quot;i =  7 ; j =  1&quot;
## [1] &quot;i =  7 ; j =  2&quot;
## [1] &quot;i =  7 ; j =  3&quot;
## [1] &quot;i =  7 ; j =  4&quot;
## [1] &quot;i =  7 ; j =  5&quot;
## [1] &quot;i =  8 ; j =  1&quot;
## [1] &quot;i =  8 ; j =  2&quot;
## [1] &quot;i =  8 ; j =  3&quot;
## [1] &quot;i =  8 ; j =  4&quot;
## [1] &quot;i =  8 ; j =  5&quot;
## [1] &quot;i =  9 ; j =  1&quot;
## [1] &quot;i =  9 ; j =  2&quot;
## [1] &quot;i =  9 ; j =  3&quot;
## [1] &quot;i =  9 ; j =  4&quot;
## [1] &quot;i =  9 ; j =  5&quot;
## [1] &quot;i =  10 ; j =  1&quot;
## [1] &quot;i =  10 ; j =  2&quot;
## [1] &quot;i =  10 ; j =  3&quot;
## [1] &quot;i =  10 ; j =  4&quot;
## [1] &quot;i =  10 ; j =  5&quot;</code></pre>
<ul>
<li>Loop over x and y coordinates to create boxes</li>
<li>Need top and bottom edges</li>
</ul>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb220-1" data-line-number="1">west_edges &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="fl">731752.5</span>, <span class="fl">731772.5</span> <span class="op">-</span><span class="st"> </span>window_size, <span class="dt">by =</span> window_size)</a>
<a class="sourceLine" id="cb220-2" data-line-number="2">east_edges &lt;-<span class="st"> </span>west_edges <span class="op">+</span><span class="st"> </span>window_size</a></code></pre></div>
<ul>
<li>Redefine out storage</li>
</ul>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb221-1" data-line-number="1">output &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">nrow =</span> <span class="kw">length</span>(south_edges), <span class="dt">ncol =</span> <span class="kw">length</span>(east_edges))</a></code></pre></div>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb222-1" data-line-number="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(south_edges)) {</a>
<a class="sourceLine" id="cb222-2" data-line-number="2">  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(east_edges)) {</a>
<a class="sourceLine" id="cb222-3" data-line-number="3">    data_in_window &lt;-<span class="st"> </span><span class="kw">filter</span>(neon_trees,</a>
<a class="sourceLine" id="cb222-4" data-line-number="4">                            northing <span class="op">&gt;=</span><span class="st"> </span>south_edges[i], northing <span class="op">&lt;</span><span class="st"> </span>north_edges[i],</a>
<a class="sourceLine" id="cb222-5" data-line-number="5">                            easting <span class="op">&gt;=</span><span class="st"> </span>west_edges[j], easting <span class="op">&lt;</span><span class="st"> </span>east_edges[j],)</a>
<a class="sourceLine" id="cb222-6" data-line-number="6">    output[i, j] &lt;-<span class="st"> </span><span class="kw">nrow</span>(data_in_window)</a>
<a class="sourceLine" id="cb222-7" data-line-number="7">  }</a>
<a class="sourceLine" id="cb222-8" data-line-number="8">}</a>
<a class="sourceLine" id="cb222-9" data-line-number="9">output</a></code></pre></div>
<pre><code>##       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]
##  [1,]    0    1    0    1    1    0    1    1
##  [2,]    0    0    2    1    1    2    1    2
##  [3,]    0    3    0    0    1    0    0    0
##  [4,]    0    1    1    1    3    0    2    1
##  [5,]    0    1    0    2    2    0    2    0
##  [6,]    1    0    0    0    1    0    2    0
##  [7,]    1    0    0    2    0    2    0    1
##  [8,]    0    1    1    0    0    0    1    0
##  [9,]    1    2    1    0    0    1    1    1</code></pre>
</div>
</div>
<div id="functions-1" class="section level2">
<h2><span class="header-section-number">2.8</span> Functions</h2>
<div id="function-basics" class="section level3">
<h3><span class="header-section-number">2.8.1</span> Function basics</h3>
<p>Sometimes, we wish to define our own functions. For example, we usually create functions if we need to do similar tasks more than once. Below is a basic format to write a function.</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb224-1" data-line-number="1">function_name &lt;-<span class="st"> </span><span class="cf">function</span>(arguments) {</a>
<a class="sourceLine" id="cb224-2" data-line-number="2">  output_value &lt;-<span class="st"> </span><span class="kw">do_something</span>(inputs)</a>
<a class="sourceLine" id="cb224-3" data-line-number="3">  <span class="kw">return</span>(output_value)</a>
<a class="sourceLine" id="cb224-4" data-line-number="4">}</a></code></pre></div>
<p>The braces (<code>{</code> and <code>}</code>) indicate that the lines of code are a group that gets run together. For example:</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb225-1" data-line-number="1">{a =<span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb225-2" data-line-number="2">b =<span class="st"> </span><span class="dv">3</span></a>
<a class="sourceLine" id="cb225-3" data-line-number="3">a <span class="op">+</span><span class="st"> </span>b}</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<ul>
<li>Pressing run anywhere in this group runs all the lines in that group.</li>
<li>A function runs all of the lines of code in the braces using the arguments provided then returns the output</li>
</ul>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb227-1" data-line-number="1">calc_shrub_vol &lt;-<span class="st"> </span><span class="cf">function</span>(length, width, height) {</a>
<a class="sourceLine" id="cb227-2" data-line-number="2">  area &lt;-<span class="st"> </span>length <span class="op">*</span><span class="st"> </span>width</a>
<a class="sourceLine" id="cb227-3" data-line-number="3">  volume &lt;-<span class="st"> </span>area <span class="op">*</span><span class="st"> </span>height</a>
<a class="sourceLine" id="cb227-4" data-line-number="4">  <span class="kw">return</span>(volume)</a>
<a class="sourceLine" id="cb227-5" data-line-number="5">}</a></code></pre></div>
<p><em>Creating a function does not run it.</em> A function is meant to be used: call the function with some arguments.</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb228-1" data-line-number="1"><span class="kw">calc_shrub_vol</span>(<span class="fl">0.8</span>, <span class="fl">1.6</span>, <span class="fl">2.0</span>)</a></code></pre></div>
<pre><code>## [1] 2.56</code></pre>
<ul>
<li>Store the output to use it later in the program</li>
</ul>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb230-1" data-line-number="1">shrub_vol &lt;-<span class="st"> </span><span class="kw">calc_shrub_vol</span>(<span class="fl">0.8</span>, <span class="fl">1.6</span>, <span class="fl">2.0</span>)</a></code></pre></div>
<p>Treat functions like a black box
* <em>Draw a box on board showing inputs-&gt;function-&gt;outputs</em>
* The only things the function knows about are the inputs we pass it
* The only thing the program knows about the function is the output it
produces</p>
<p>Let’s walk through <code>calc_shrub_vol()</code>s execution:
1. Call function
2. Assign 0.8 to length, 1.6 to width, and 2.0 to height inside function
3. Calculate the area and assign it to <code>area</code>
4. Calculate volume and assign it to <code>volume</code>
5. Send <code>volume</code> back as output
6. Store it in <code>shrub_vol</code></p>
<p>Once again, treat functions like a black box.
* You can’t access a variable that was created in a function. You <strong>must</strong> save the output of a function (to a variable) to use it later.
* <code>&gt; volume</code>
* <code>Error: object 'width' not found</code>
* Or an argument by name
* <code>&gt; width</code>
* <code>Error: object 'width' not found</code></p>
</div>
<div id="conditionals-within-functions" class="section level3">
<h3><span class="header-section-number">2.8.2</span> Conditionals within functions</h3>
<p>Recall that we used a conditional to estimate mass differently for different types of vegetation. Since this is the kind of code we are going to want to reuse, so let’s move it into a function.</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb231-1" data-line-number="1">est_mass &lt;-<span class="st"> </span><span class="cf">function</span>(volume, veg_type) {</a>
<a class="sourceLine" id="cb231-2" data-line-number="2">  <span class="cf">if</span> (veg_type <span class="op">==</span><span class="st"> &quot;tree&quot;</span>) {</a>
<a class="sourceLine" id="cb231-3" data-line-number="3">    mass &lt;-<span class="st"> </span><span class="fl">2.65</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">0.9</span></a>
<a class="sourceLine" id="cb231-4" data-line-number="4">  } <span class="cf">else</span> <span class="cf">if</span> (veg_type <span class="op">==</span><span class="st"> &quot;grass&quot;</span>) {</a>
<a class="sourceLine" id="cb231-5" data-line-number="5">    mass &lt;-<span class="st"> </span><span class="fl">0.65</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">1.2</span></a>
<a class="sourceLine" id="cb231-6" data-line-number="6">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb231-7" data-line-number="7">    mass &lt;-<span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb231-8" data-line-number="8">  }</a>
<a class="sourceLine" id="cb231-9" data-line-number="9">  <span class="kw">return</span>(mass)</a>
<a class="sourceLine" id="cb231-10" data-line-number="10">}</a></code></pre></div>
<p>We can then run this function with different vegetation types and get different estimates for mass</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb232-1" data-line-number="1"><span class="kw">est_mass</span>(<span class="fl">1.6</span>, <span class="st">&quot;tree&quot;</span>)</a></code></pre></div>
<pre><code>## [1] 4.045329</code></pre>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb234-1" data-line-number="1"><span class="kw">est_mass</span>(<span class="fl">1.6</span>, <span class="st">&quot;grass&quot;</span>)</a></code></pre></div>
<pre><code>## [1] 1.142503</code></pre>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb236-1" data-line-number="1"><span class="kw">est_mass</span>(<span class="fl">1.6</span>, <span class="st">&quot;shrub&quot;</span>)</a></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>Let’s walk through how this code executes:
1. When we call the function the first thing that happens is that 1.6 gets assigned to <code>volume</code> and <code>&quot;shrub&quot;</code> gets assigned to <code>veg_type</code>
2. The code then checks to see if <code>veg_type</code> is equal to <code>&quot;tree&quot;</code>
3. It isn’t so the code then checks to see if <code>veg_type</code> is equal to <code>&quot;grass&quot;</code>
4. It is so the code then hits the <code>else</code> statement and executes the code in the <code>else</code> block
5. It assigns <code>NA</code> to mass
6. It then finishes the if/else if/else statement and returns the value for <code>mass</code>, which is <code>NA</code> to the global environment</p>
</div>
<div id="nested-conditionals-optional" class="section level3">
<h3><span class="header-section-number">2.8.3</span> Nested conditionals (OPTIONAL)</h3>
<ul>
<li>Sometimes decisions are more complicated</li>
<li>For example we might have different equations for some vegetation types based on the age of the plant</li>
<li>Can “nest” conditionals inside of one another</li>
</ul>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb238-1" data-line-number="1">est_mass &lt;-<span class="st"> </span><span class="cf">function</span>(volume, veg_type, age){ </a>
<a class="sourceLine" id="cb238-2" data-line-number="2">  <span class="cf">if</span> (veg_type <span class="op">==</span><span class="st"> &quot;tree&quot;</span>) {</a>
<a class="sourceLine" id="cb238-3" data-line-number="3">    <span class="cf">if</span> (age <span class="op">&lt;</span><span class="st"> </span><span class="dv">5</span>) {</a>
<a class="sourceLine" id="cb238-4" data-line-number="4">      mass &lt;-<span class="st"> </span><span class="fl">1.6</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">0.8</span></a>
<a class="sourceLine" id="cb238-5" data-line-number="5">    } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb238-6" data-line-number="6">      mass &lt;-<span class="st"> </span><span class="fl">2.65</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">0.9</span></a>
<a class="sourceLine" id="cb238-7" data-line-number="7">  }</a>
<a class="sourceLine" id="cb238-8" data-line-number="8">  } <span class="cf">else</span> <span class="cf">if</span> (veg_type <span class="op">==</span><span class="st"> &quot;grass&quot;</span> <span class="op">|</span><span class="st"> </span>veg_type <span class="op">==</span><span class="st"> &quot;shrub&quot;</span>) {</a>
<a class="sourceLine" id="cb238-9" data-line-number="9">    mass &lt;-<span class="st"> </span><span class="fl">0.65</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">1.2</span></a>
<a class="sourceLine" id="cb238-10" data-line-number="10">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb238-11" data-line-number="11">    mass &lt;-<span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb238-12" data-line-number="12">  }</a>
<a class="sourceLine" id="cb238-13" data-line-number="13">  <span class="kw">return</span>(mass)</a>
<a class="sourceLine" id="cb238-14" data-line-number="14">}</a>
<a class="sourceLine" id="cb238-15" data-line-number="15"></a>
<a class="sourceLine" id="cb238-16" data-line-number="16"><span class="kw">est_mass</span>(<span class="fl">1.6</span>, <span class="st">&quot;tree&quot;</span>, <span class="dt">age =</span> <span class="dv">2</span>)</a></code></pre></div>
<pre><code>## [1] 2.330322</code></pre>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb240-1" data-line-number="1"><span class="kw">est_mass</span>(<span class="fl">1.6</span>, <span class="st">&quot;shrub&quot;</span>, <span class="dt">age =</span> <span class="dv">5</span>)</a></code></pre></div>
<pre><code>## [1] 1.142503</code></pre>
<p>Here’s how the function executes:
1. First checks if the vegetation type is “tree”
2. If it is checks to see if it is &lt; 5 years old
3. If so does one calculation, if not does another.</p>
<p>Note that nesting can be difficult to read so try to minimize it when possible.</p>
</div>
<div id="default-arguments-and-unnamed-arguments" class="section level3">
<h3><span class="header-section-number">2.8.4</span> Default arguments and unnamed arguments</h3>
<ul>
<li>Defaults can be set for common inputs.</li>
<li>For example, many of our shrubs are the same height so for those shrubs we only measure the <code>length</code> and <code>width</code>.</li>
<li>So we want a default value for the <code>height</code> for cases where we don’t measure it</li>
</ul>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb242-1" data-line-number="1">calc_shrub_vol &lt;-<span class="st"> </span><span class="cf">function</span>(length, width, <span class="dt">height =</span> <span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb242-2" data-line-number="2">  area &lt;-<span class="st"> </span>length <span class="op">*</span><span class="st"> </span>width</a>
<a class="sourceLine" id="cb242-3" data-line-number="3">  volume &lt;-<span class="st"> </span>area <span class="op">*</span><span class="st"> </span>height</a>
<a class="sourceLine" id="cb242-4" data-line-number="4">  <span class="kw">return</span>(volume)</a>
<a class="sourceLine" id="cb242-5" data-line-number="5">}</a>
<a class="sourceLine" id="cb242-6" data-line-number="6"></a>
<a class="sourceLine" id="cb242-7" data-line-number="7"><span class="kw">calc_shrub_vol</span>(<span class="fl">0.8</span>, <span class="fl">1.6</span>)  <span class="co"># default argument for height</span></a></code></pre></div>
<pre><code>## [1] 1.28</code></pre>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb244-1" data-line-number="1"><span class="kw">calc_shrub_vol</span>(<span class="fl">0.8</span>, <span class="fl">1.6</span>, <span class="fl">2.0</span>)  <span class="co"># default argument is overridden by 2,0</span></a></code></pre></div>
<pre><code>## [1] 2.56</code></pre>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb246-1" data-line-number="1"><span class="kw">calc_shrub_vol</span>(<span class="dt">length =</span> <span class="fl">0.8</span>, <span class="dt">width =</span> <span class="fl">1.6</span>, <span class="dt">height =</span> <span class="fl">2.0</span>)</a></code></pre></div>
<pre><code>## [1] 2.56</code></pre>
<p>As you could tell from the last two examples, you can specify the arguments (parameters) with or without their names.</p>
<ul>
<li>You can always use names to assign a parameter to an argument.</li>
<li>If not, using names then order is determined by parameter order. For example,
<ul>
<li>First value is <code>length</code>, second value is <code>width</code>, third value is <code>height</code>.</li>
</ul></li>
<li>In many cases there are <em>a lot</em> of optional arguments. In this case, we can specify an argument by name to avoid confusion.</li>
<li>Oftentimes, only the optional arguments are specified (i.e., those without a default value).</li>
<li>In our case, we would write:</li>
</ul>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb248-1" data-line-number="1"><span class="kw">calc_shrub_vol</span>(<span class="fl">0.8</span>, <span class="fl">1.6</span>, <span class="dt">height =</span> <span class="fl">2.0</span>)</a></code></pre></div>
<pre><code>## [1] 2.56</code></pre>
</div>
<div id="combining-functions-optional" class="section level3">
<h3><span class="header-section-number">2.8.5</span> Combining functions (OPTIONAL)</h3>
<p>Here are some guidelines for creating functions:
* Each function should be single conceptual chunk of code
* Functions can be combined to do larger tasks</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb250-1" data-line-number="1">est_shrub_mass &lt;-<span class="st"> </span><span class="cf">function</span>(volume) {</a>
<a class="sourceLine" id="cb250-2" data-line-number="2">  mass &lt;-<span class="st"> </span><span class="fl">2.65</span> <span class="op">*</span><span class="st"> </span>volume<span class="op">^</span><span class="fl">0.9</span></a>
<a class="sourceLine" id="cb250-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb250-4" data-line-number="4"></a>
<a class="sourceLine" id="cb250-5" data-line-number="5">shrub_volume &lt;-<span class="st"> </span><span class="kw">calc_shrub_vol</span>(<span class="fl">0.8</span>, <span class="fl">1.6</span>, <span class="fl">2.0</span>)</a>
<a class="sourceLine" id="cb250-6" data-line-number="6">shrub_mass &lt;-<span class="st"> </span><span class="kw">est_shrub_mass</span>(shrub_volume)</a></code></pre></div>
<p>We can nest functions. Below, the inner function executes before the outer function executes.</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb251-1" data-line-number="1">shrub_mass &lt;-<span class="st"> </span><span class="kw">est_shrub_mass</span>(<span class="kw">calc_shrub_vol</span>(<span class="fl">0.8</span>, <span class="fl">1.6</span>, <span class="fl">2.0</span>))</a></code></pre></div>
<p>We careful with this because it can make code difficult to read. As a general rule of thumb, don’t nest more than two functions.</p>
<p>We can also call functions from inside other functions. This allows us to organize function calls into logical groups.</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb252-1" data-line-number="1">est_shrub_mass_dim &lt;-<span class="st"> </span><span class="cf">function</span>(length, width, height) {</a>
<a class="sourceLine" id="cb252-2" data-line-number="2">  volume =<span class="st"> </span><span class="kw">calc_shrub_vol</span>(length, width, height)</a>
<a class="sourceLine" id="cb252-3" data-line-number="3">  mass &lt;-<span class="st"> </span><span class="kw">est_shrub_mass</span>(volume)</a>
<a class="sourceLine" id="cb252-4" data-line-number="4">  <span class="kw">return</span>(mass)</a>
<a class="sourceLine" id="cb252-5" data-line-number="5">}</a>
<a class="sourceLine" id="cb252-6" data-line-number="6"></a>
<a class="sourceLine" id="cb252-7" data-line-number="7"><span class="kw">est_shrub_mass_dim</span>(<span class="fl">0.8</span>, <span class="fl">1.6</span>, <span class="fl">2.0</span>)</a></code></pre></div>
<pre><code>## [1] 6.175354</code></pre>

</div>
</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="install.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-frames.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
